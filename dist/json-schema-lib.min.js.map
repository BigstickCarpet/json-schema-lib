{
  "version": 3,
  "sources": [
    "../node_modules/browser-pack/_prelude.js",
    "../lib/api/Config.js",
    "../lib/api/File.js",
    "../lib/api/FileArray.js",
    "../lib/api/JsonSchemaLib/JsonSchemaLib.js",
    "../lib/api/JsonSchemaLib/normalizeArgs.js",
    "../lib/api/JsonSchemaLib/read.js",
    "../lib/api/PluginHelper/PluginHelper.js",
    "../lib/api/PluginHelper/callAsyncPlugin.js",
    "../lib/api/PluginHelper/callSyncPlugin.js",
    "../lib/api/PluginHelper/filterByMethod.js",
    "../lib/api/PluginHelper/validatePlugin.js",
    "../lib/api/PluginHelper/validatePlugins.js",
    "../lib/api/PluginManager.js",
    "../lib/api/Schema.js",
    "../lib/browser.js",
    "../lib/exports.js",
    "../lib/plugins/ArrayDecoderPlugin.js",
    "../lib/plugins/BrowserUrlPlugin.js",
    "../lib/plugins/JsonPlugin.js",
    "../lib/plugins/TextDecoderPlugin.js",
    "../lib/plugins/XMLHttpRequestPlugin.js",
    "../lib/util/Promise.js",
    "../lib/util/Symbol.js",
    "../lib/util/deepClone.js",
    "../lib/util/internal.js",
    "../lib/util/isTypedArray.js",
    "../lib/util/lowercase.js",
    "../lib/util/omit.js",
    "../lib/util/safeCall.js",
    "../lib/util/setHttpMetadata.js",
    "../lib/util/stripHash.js",
    "../lib/util/typeOf.js",
    "../node_modules/content-type/index.js",
    "../node_modules/format-util/format.js",
    "../node_modules/ono/lib/ono.js"
  ],
  "names": [
    "f",
    "exports",
    "module",
    "define",
    "amd",
    "g",
    "window",
    "global",
    "self",
    "this",
    "jsonSchemaLib",
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "require",
    "i",
    "Error",
    "code",
    "l",
    "call",
    "length",
    "1",
    "Config",
    "validateConfig",
    "deepAssign",
    "defaults",
    "typeOf",
    "hasValue",
    "isPOJO",
    "ono",
    "assign",
    "Promise",
    "http",
    "headers",
    "timeout",
    "maxRedirects",
    "withCredentials",
    "File",
    "schema",
    "url",
    "data",
    "mimeType",
    "encoding",
    "__internal",
    "state",
    "omit",
    "prototype",
    "toString",
    "path",
    "toJSON",
    "FileArray",
    "exists",
    "get",
    "JsonSchemaLib",
    "Array",
    "isArray",
    "config",
    "plugins",
    "PluginManager",
    "callAsync",
    "setTimeout",
    "read",
    "normalizeArgs",
    "use",
    "readSync",
    "arguments",
    "error",
    "sync",
    "c",
    "readAsync",
    "callback",
    "reject",
    "slice",
    "pop",
    "trim",
    "indexOf",
    "shift",
    "Schema",
    "files",
    "push",
    "resolveURL",
    "to",
    "stripHash",
    "STATE_READ",
    "safeCall",
    "parseFile",
    "readFile",
    "decodeFile",
    "STATE_READING",
    "readFileSync",
    "file",
    "readFileAsync",
    "resolveRefs",
    "readReferencedFiles",
    "PluginHelper",
    "validatePlugins",
    "sort",
    "sortByPriority",
    "priority",
    "callSyncPlugin",
    "callAsyncPlugin",
    "result",
    "plugin",
    "name",
    "filter",
    "filterByMethod",
    "callNextPlugin",
    "next",
    "resolve",
    "then",
    "validatePlugin",
    "forEach",
    "map",
    "deepClone",
    "validatePriority",
    "isNumber",
    "circular",
    "Object",
    "defineProperties",
    "root",
    "configurable",
    "enumerable",
    "rootUrl",
    "rootFile",
    "set",
    "createJsonSchemaLib",
    "bind",
    "default",
    "create",
    "util",
    "isSchema",
    "isFile",
    "stripBOM",
    "charCodeAt",
    "isTypedArray",
    "Uint16Array",
    "String",
    "fromCharCode",
    "apply",
    "resolveProtocolRelativeURL",
    "protocolPattern",
    "exec",
    "location",
    "protocol",
    "resolveOriginRelativeURL",
    "split",
    "splice",
    "join",
    "origin",
    "host",
    "resolvePathRelativeURL",
    "stripQuery",
    "href",
    "substr",
    "from",
    "URL",
    "test",
    "isJsonFile",
    "mimeTypePattern",
    "extensionPattern",
    "JSON",
    "parse",
    "textDecoderIsSupported",
    "TextDecoder",
    "d",
    "ignoreBOM",
    "fatal",
    "decode",
    "sendRequest",
    "status",
    "getResponseStatus",
    "parseResponseHeaders",
    "getAllResponseHeaders",
    "response",
    "responseText",
    "statusText",
    "XMLHttpRequest",
    "open",
    "onerror",
    "ontimeout",
    "onload",
    "keys",
    "setRequestHeader",
    "send",
    "toLowerCase",
    "setHttpMetadata",
    "Symbol",
    "supportedDataTypes",
    "getSupportedDataTypes",
    "Uint8Array",
    "ArrayBuffer",
    "Uint32Array",
    "Int8Array",
    "Int16Array",
    "Int32Array",
    "Uint8ClampedArray",
    "Float32Array",
    "Float64Array",
    "DataView",
    "lowercase",
    "contentType",
    "type",
    "parameters",
    "charset",
    "isNaN",
    "RegExp",
    "Date",
    "format",
    "TypeError",
    "typeRegExp",
    "p",
    "tokenRegExp",
    "qstring",
    "getcontenttype",
    "ContentType",
    "paramRegExp",
    "lastIndex",
    "index",
    "replace",
    "qescRegExp",
    "getHeader",
    "textRegExp",
    "quoteRegExp",
    "Number",
    "stringify",
    "unshift",
    "formatter",
    "message",
    "extendError",
    "extendToJSON",
    "extend",
    "extendStack",
    "errorToJSON",
    "inspect",
    "errorToString",
    "vendorSpecificErrorProperties",
    "concat",
    "hasLazyStack",
    "lazyJoinStacks",
    "lazyPopStack",
    "stack",
    "joinStacks",
    "popStack",
    "supportsLazyStack",
    "getOwnPropertyDescriptor",
    "defineProperty",
    "eval",
    "EvalError",
    "range",
    "RangeError",
    "reference",
    "ReferenceError",
    "syntax",
    "SyntaxError",
    "uri",
    "URIError",
    "navigator",
    "userAgent"
  ],
  "mappings": ";;;;;;;;CAAA,SAAAA,GAAA,SAAAC,WAAA,gBAAAC,UAAA,YAAA,CAAAA,OAAAD,QAAAD,QAAA,UAAAG,UAAA,YAAAA,OAAAC,IAAA,CAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAA,UAAAC,UAAA,YAAA,CAAAD,EAAAC,WAAA,UAAAC,UAAA,YAAA,CAAAF,EAAAE,WAAA,UAAAC,QAAA,YAAA,CAAAH,EAAAG,SAAA,CAAAH,EAAAI,KAAAJ,EAAAK,cAAAV,OAAA,WAAA,GAAAG,QAAAD,OAAAD,OAAA,OAAA,SAAAU,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,SAAAC,UAAA,YAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAhB,GAAA,GAAAqB,OAAA,uBAAAL,EAAA,IAAA,MAAAhB,GAAAsB,KAAA,mBAAAtB,EAAA,GAAAuB,GAAAV,EAAAG,IAAAf,WAAAW,GAAAI,GAAA,GAAAQ,KAAAD,EAAAtB,QAAA,SAAAU,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAY,EAAAA,EAAAtB,QAAAU,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAf,QAAA,GAAAmB,SAAAD,UAAA,YAAAA,OAAA,KAAA,GAAAH,GAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,QAAAjB,OAAAD,SCAA,YAeA,SAAS0B,QAAQhB,EAAQS,GACvBQ,eAAejB,GACfkB,WAAWpB,KAAMW,GAAiBO,OAAOG,UAErCnB,GACFkB,WAAWpB,KAAME,GA+DrB,QAASiB,gBAAgBjB,GACvB,GAAIS,GAAOW,OAAOpB,EAElB,IAAIS,EAAKY,WAAaZ,EAAKa,OACzB,KAAMC,KAAI,uDArFd,GAAIA,KAAMf,QAAQ,OACdY,OAASZ,QAAQ,kBACjBU,WAAaV,QAAQ,qBAAqBgB,MAE9CjC,QAAOD,QAAU0B,OAqBjBA,OAAOG,UAQLM,QAASjB,QAAQ,mBAMjBkB,MAIEC,WAOAC,QAAS,IAWTC,aAAc,EAUdC,iBAAiB,mHCzErB,YAcA,SAASC,MAAM9B,GAMbH,KAAKkC,OAAS/B,EAOdH,KAAKmC,IAAM,GAOXnC,KAAKoC,SAAO,GAOZpC,KAAKqC,aAAW,GAOhBrC,KAAKsC,aAAW,GAOhBtC,KAAKuC,aAMHC,MAAO,GA3DX,GAAIC,MAAO/B,QAAQ,gBACf6B,WAAa7B,QAAQ,mBAEzBjB,QAAOD,QAAUyC,KAiEjBA,KAAKS,UAAUC,SAAW,WACxB,MAAO3C,MAAK4C,MAQdX,KAAKS,UAAUG,OAAS,WACtB,MAAOJ,MAAKzC,KAAM,SAAUuC,6FChF9B,YASA,SAASO,aACP,GAAIzC,KAsBJ,OAdAA,GAAM0C,OAAS,SAAiB1C,KAUhCA,EAAM2C,IAAM,SAAc3C,KAInBA,EA9BTZ,OAAOD,QAAUsD,mDCDjB,YAkBA,SAASG,eAAe5C,EAAQD,GAC1B8C,MAAMC,QAAQ9C,KAChBD,EAAUC,EACVA,MAAS,IAQXL,KAAKoD,OAAS,GAAIlC,QAAOb,GAOzBL,KAAKqD,QAAU,GAAIC,eAAclD,GAyInC,QAASmD,WAAWlD,EAAID,EAAOF,GAC7BsD,WAAW,WACTnD,EAAGD,EAAOF,IACT,GA9KL,GAAIuB,KAAMf,QAAQ,OACdQ,OAASR,QAAQ,aACjB4C,cAAgB5C,QAAQ,oBACxB+C,KAAO/C,QAAQ,UACfgD,cAAgBhD,QAAQ,kBAE5BjB,QAAOD,QAAUyD,cAqCjBA,cAAcP,UAAUiB,IAAM,SAActD,EAAQD,GAClDJ,KAAKqD,QAAQM,IAAItD,EAAQD,IAmB3B6C,cAAcP,UAAUkB,SAAW,SAAmBvD,EAAKD,EAAMF,GAC/D,GAAIS,GAAO+C,cAAcG,WACrBtD,EAAQI,EAAKmD,KAQjB,IANAzD,EAAMM,EAAKwB,IACX/B,EAAOO,EAAKyB,KACZlC,EAASS,EAAKyC,OAEdlD,EAAO6D,MAAO,EAEVxD,EAEF,KAAMA,EAGN,IAAIE,GAAGuD,CASP,IANAP,KAAK1C,KAAKf,KAAMK,EAAKD,EAAMF,EAAQ,SAAUG,EAAKD,GAChDK,EAAIJ,EACJ2D,EAAI5D,IAIFK,EACF,KAAMA,EAGN,OAAOuD,IAwBbf,cAAcP,UAAUe,KAAOR,cAAcP,UAAUuB,UAAY,SAAoB5D,EAAKD,EAAMF,EAAQS,GACxG,GAAIJ,GAAOmD,cAAcG,WACrBpD,EAAQF,EAAKuD,MACbE,EAAKhE,IAST,IAPAK,EAAME,EAAK4B,IACX/B,EAAOG,EAAK6B,KACZlC,EAASK,EAAK6C,OACdzC,EAAWJ,EAAK2D,SAEhBhE,EAAO6D,MAAO,EAEVtD,EAAO,CAET,IAAIE,EAIF,MAAOT,GAAOyB,QAAQwC,OAAO1D,EAH7B8C,WAAU5C,EAAUF,OAMnB,CAAA,IAAIE,EAcP,MAAO,IAAIT,GAAOyB,QAAQ,SAAUhB,EAASJ,GAC3CkD,KAAK1C,KAAKiD,EAAI3D,EAAKD,EAAMF,EAAQ,SAAUG,EAAKD,GAC1CC,EACFE,EAAOF,GAGPM,EAAQP,MAnBd,KAEEqD,KAAK1C,KAAKf,KAAMK,EAAKD,EAAMF,EAAQ,SAAUG,EAAKD,GAChDmD,UAAU5C,EAAUN,EAAKD,KAG7B,MAAOC,GAELkD,UAAU5C,EAAUN,wHCpJ1B,YAiBA,SAASqD,eAAenD,GACtB,GAAIJ,GAAOD,EAAKE,EAAMC,EAAQI,CAE9B,KA6BE,GA5BAF,EAAO2C,MAAMR,UAAU0B,MAAMrD,KAAKR,GAEG,kBAA1BA,GAAKA,EAAKS,OAAS,KAE5BP,EAAWF,EAAK8D,OAIK,gBAAZ9D,GAAK,IAAyC,MAAtBA,EAAK,GAAG+D,OAAO,KAAyC,IAA3B/D,EAAK,GAAGgE,QAAQ,OAE9ErE,EAAMK,EAAK,GACXA,EAAKiE,SAGLtE,EAAM,GAGe,gBAAZK,GAAK,IAAmC,IAAhBA,EAAKS,SAEtCZ,EAAOG,EAAK,GACZA,EAAKiE,SAIPnE,EAAS,GAAIa,QAAOX,EAAK,IACzBA,EAAKiE,QAGDjE,EAAKS,OAAS,EAChB,KAAMS,KAAI,6EAIZ,KAAKvB,IAAQE,EACX,KAAMqB,KAAI,yDAGd,MAAOlB,GACLJ,EAAQI,EAGV,OACEuD,MAAO3D,EACPgC,IAAKjC,EACLkC,KAAMhC,EACNgD,OAAQ/C,EACR6D,SAAUzD,GAjEd,GAAIgB,KAAMf,QAAQ,OACdQ,OAASR,QAAQ,YAErBjB,QAAOD,QAAUkE,2ECLjB,YAyBA,SAASD,MAAMvD,EAAKY,EAAML,EAAQE,GAEhC,GAAIL,GAAS,GAAImE,QAAOhE,EAAQT,KAAKqD,QAAQR,UACzC1C,EAAW,GAAI8B,MAAK3B,EACxBA,GAAOoE,MAAMC,KAAKxE,GAEdD,IAEFA,EAAMI,EAAO+C,QAAQuB,YAAaC,GAAI3E,IAGtCC,EAASgC,IAAM2C,UAAU5E,IAGvBY,GAEFX,EAASiC,KAAOtB,EAChBX,EAASoC,YAAYC,MAAQuC,WAC7BC,SAASC,UAAW9E,EAAUQ,IAI9BqE,SAASE,SAAU/E,EAAUQ,GAUjC,QAASuE,UAAUhF,EAAMY,GAYvB,QAASL,GAAaA,EAAKE,GACrBF,EACFK,EAASL,IAGTP,EAAKkC,KAAOzB,EACZT,EAAKqC,YAAYC,MAAQuC,WACzBC,SAASG,WAAYjF,EAAMY,IAlB/B,GAAIH,GAAST,EAAKgC,MAClBhC,GAAKqC,YAAYC,MAAQ4C,cAErBzE,EAAOyC,OAAOW,MAChB7D,EAAKkC,KAAOzB,EAAO0C,QAAQgC,cAAeC,KAAMpF,IAChDO,EAAY,KAAMP,EAAKkC,OAGvBzB,EAAO0C,QAAQkC,eAAgBD,KAAMpF,GAAQO,GAqBjD,QAAS0E,YAAYjF,EAAMY,GACzBZ,EAAKkC,KAAOlC,EAAKgC,OAAOmB,QAAQ8B,YAAaG,KAAMpF,IACnD8E,SAASC,UAAW/E,EAAMY,GAS5B,QAASmE,WAAW/E,EAAMY,GACxBZ,EAAKkC,KAAOlC,EAAKgC,OAAOmB,QAAQ4B,WAAYK,KAAMpF,IAClD8E,SAASQ,YAAatF,EAAMY,GAS9B,QAAS0E,aAAatF,EAAMY,GACtBQ,OAAOpB,EAAKkC,MAAMZ,OAItBwD,SAASS,oBAAqBvF,EAAKgC,OAAQpB,GAS7C,QAAS2E,qBAAqBvF,EAAQY,GACpC,GACIL,GAAME,EADNL,KAAqBH,IAIzB,KAAKQ,EAAI,EAAGA,EAAIT,EAAOwE,MAAM1D,OAAQL,IACnCF,EAAOP,EAAOwE,MAAM/D,GAEhBF,EAAK8B,YAAYC,MAAQ4C,cAC3BjF,EAAYwE,KAAKlE,GAEVA,EAAK8B,YAAYC,MAAQuC,YAChCzE,EAAeqE,KAAKlE,EAKxB,IAA2B,IAAvBN,EAAYa,QAA0C,IAA1BV,EAAeU,OAC7C,MAAOF,GAAS,KAAMZ,EAIxB,KAAKS,EAAI,EAAGA,EAAIR,EAAYa,OAAQL,IAClCF,EAAON,EAAYQ,GACnBqE,SAASE,SAAUzE,EAAMK,GAjJ7B,GAAI2D,QAAS/D,QAAQ,aACjBuB,KAAOvB,QAAQ,WACfsE,SAAWtE,QAAQ,uBACnBoE,UAAYpE,QAAQ,wBACpBY,OAASZ,QAAQ,qBACjB6B,WAAa7B,QAAQ,uBAErB0E,cAAgB,EAChBL,WAAa,CAEjBtF,QAAOD,QAAUiE,2KCXjB,YAiBA,SAASiC,cAAcxF,EAASG,GAC9BsF,gBAAgBzF,GAChBA,EAAUA,MAOVF,KAAKuC,aAIHL,OAAQ7B,EAKRgD,QAASnD,EAAQkE,QAAQwB,KAAKC,iBAuIlC,QAASA,gBAAgB3F,EAASG,GAChC,MAAOA,GAAQyF,SAAW5F,EAAQ4F,SAzKpC,GAAIrE,KAAMf,QAAQ,OACd6B,WAAa7B,QAAQ,uBACrBiF,gBAAkBjF,QAAQ,qBAC1B+B,KAAO/B,QAAQ,mBACfqF,eAAiBrF,QAAQ,oBACzBsF,gBAAkBtF,QAAQ,oBAE9BjB,QAAOD,QAAUkG,aAqCjBA,aAAahD,UAAUkC,WAAa,SAAqB1E,GACvD,IACE,GAAIG,GAAU0F,eAAe/F,KAAM,aAAcE,GAC7CY,EAAMT,EAAQ4F,OACd7F,EAASC,EAAQ6F,SAAYC,KAAM,GAEvC,QAAY,KAARrF,GAA6B,OAARA,EACvB,KAAMW,KAAI,gDAAiDrB,EAAO+F,KAE/D,IAAmB,gBAARrF,GACd,KAAMW,KAAI,iEAAkErB,EAAO+F,WAAarF,GAGhG,OAAOA,GAGX,MAAOT,GACL,KAAMoB,KAAIpB,EAAK,uBAAwBH,EAAK2E,MAUhDa,aAAahD,UAAU2C,aAAe,SAAuBnF,GAC3D,IACE,GAAIG,GAAU0F,eAAe/F,KAAM,eAAgBE,EAEnD,IAAKG,EAAQ6F,OAIX,MAAO7F,GAAQ4F,MAHf,MAAMxE,KAAI,8DAMd,MAAOpB,GACL,KAAMoB,KAAIpB,EAAK,oBAAqBH,EAAKoF,KAAKnD,OAclDuD,aAAahD,UAAU6C,cAAgB,SAAwBrF,EAAMG,GACnE2F,gBAAgBhG,KAAM,gBAAiBE,EAAM,SAAUY,EAAKV,GACrDU,GAAQV,EAAQ8F,SACnBpF,EAAMW,IAAI,gEAGRX,GACFA,EAAMW,IAAIX,EAAK,oBAAqBZ,EAAKoF,KAAKnD,KAC9C9B,EAASS,IAGTT,EAAS,KAAMD,EAAQ6F,WAW7BP,aAAahD,UAAUyC,WAAa,SAAqBjF,GACvD,IAKE,MAJc6F,gBAAe/F,KAAM,aAAcE,GAIlC+F,OAEjB,MAAO5F,GACL,KAAMoB,KAAIpB,EAAK,qBAAsBH,EAAKoF,KAAKnD,OAUnDuD,aAAahD,UAAUuC,UAAY,SAAoB/E,GACrD,IAKE,MAJc6F,gBAAe/F,KAAM,YAAaE,GAIjC+F,OAEjB,MAAO5F,GACL,KAAMoB,KAAIpB,EAAK,qBAAsBH,EAAKoF,KAAKnD,OASnDuD,aAAahD,UAAUG,OAAS,WAC9B,MAAOJ,MAAKzC,KAAMuC,4KChKpB,YAiBA,SAASyD,iBAAiBlF,EAAcV,EAAYF,EAAMS,GACxD,GAAIN,GAAUS,EAAayB,YAAYc,QAAQ+C,OAAOC,eAAejG,GACrEF,GAAKgC,OAASpB,EAAayB,YAAYL,OACvChC,EAAKkD,OAASlD,EAAKgC,OAAOkB,OAE1B4B,SAASsB,eAAgBjG,EAASD,EAAYF,EAAMS,GAWtD,QAAS2F,gBAAgBxF,EAASV,EAAYF,EAAMS,GAwBlD,QAASN,GAAMS,EAAKZ,GACdC,IACFW,EAAMW,IAAI,mDAAoDlB,EAAO4F,KAAM/F,IAG7ED,GAAa,EACbM,EAAKK,EAAKZ,GAGZ,QAASO,GAAMJ,EAAKI,GACdJ,EACFM,EAASc,IAAIpB,EAAK,kBAAmBE,EAAO4F,KAAM/F,IAE3CD,OAAyB,KAAXM,EACrBuE,SAASsB,eAAgBxF,EAASV,EAAYF,EAAMS,GAIpDA,EAAS,MAAQuF,OAAQ3F,EAAQ0F,OAAQxF,IAzC7C,GAAIN,GACAI,EAASO,EAAQ0D,QACjBhE,EAAUN,EAAKkD,OAAOzB,OAErBpB,IAEHI,EAAS,MAAQuF,OAAQ,KAAMD,WAAQ,KAIzC/F,EAAKqG,KAAOlG,CACZ,IAAIC,GAAcC,EAAOH,GAAYW,KAAK,KAAMb,OAE5B,KAAhBI,GACFE,EAAQgG,QAAQlG,GAAamG,KAAK,SAAU3F,GAC1C,GAAIZ,EACAC,KACFD,EAAMuB,IAAI,wDAAyDlB,EAAO4F,KAAM/F,IAElFK,EAAKP,EAAKY,KAnDhB,GAAIW,KAAMf,QAAQ,OACd6B,WAAa7B,QAAQ,uBACrBsE,SAAWtE,QAAQ,uBACnB2F,eAAiB3F,QAAQ,mBAE7BjB,QAAOD,QAAUwG,uICPjB,YAmBA,SAASD,gBAAgB3F,EAAcU,EAAYZ,GACjD,GAAIG,GAAUD,EAAamC,YAAYc,QAAQ+C,OAAOC,eAAevF,GAIrE,OAHAZ,GAAKgC,OAAS9B,EAAamC,YAAYL,OACvChC,EAAKkD,OAASlD,EAAKgC,OAAOkB,OAEnBkD,eAAejG,EAASS,EAAYZ,GAW7C,QAASoG,gBAAgBlG,EAASU,EAAYZ,GA4B5C,QAASG,GAAMD,EAAKF,GACdK,IACFJ,EAAQsB,IAAI,mDAAoDjB,EAAO2F,KAAMrF,IAG/EP,GAAa,EACbJ,EAAQC,EACRO,EAAST,EAlCX,GAAIS,GAAQR,EAAOI,EACfC,EAASJ,EAAQoE,OAErB,KAAKhE,EAEH,OAAS0F,OAAQ,KAAMD,WAAQ,GAOjC,IAHA/F,EAAKqG,KAAOlG,MAGG,MAFfM,EAASH,EAAOM,GAAYC,KAAK,KAAMb,KAEXK,EAC1B,KAAMkB,KAAI,wDAAyDjB,EAAO2F,KAAMrF,EAGlF,IAAIX,EACF,KAAMsB,KAAItB,EAAO,kBAAmBK,EAAO2F,KAAMrF,EAE9C,OAAIP,QAAyB,KAAXI,EACd2F,eAAelG,EAASU,EAAYZ,IAIlCgG,OAAQ1F,EAAQyF,OAAQtF,GA1DrC,GAAIc,KAAMf,QAAQ,OACd6B,WAAa7B,QAAQ,uBACrB2F,eAAiB3F,QAAQ,mBAE7BjB,QAAOD,QAAUuG,8GCNjB,YAUA,SAASM,gBAAgBlG,GACvB,MAAO,UAAuBD,GAC5B,MAAqC,kBAAvBA,GAAOC,IAVzBV,OAAOD,QAAU6G,yDCFjB,YAaA,SAASK,gBAAgBxG,GAGvB,IAFWoB,OAAOpB,GAERsB,OACR,KAAMC,KAAI,gDAfd,GAAIA,KAAMf,QAAQ,OACdY,OAASZ,QAAQ,oBAErBjB,QAAOD,QAAUkH,sFCLjB,YAcA,SAASf,iBAAiBlF,GACxB,GAAIP,GAAOoB,OAAOb,EAElB,IAAIP,EAAKqB,SAAU,CACjB,IAAIrB,EAAKiD,QAKP,KAAM1B,KAAI,mDAHVhB,GAAQkG,QAAQD,iBAlBtB,GAAIjF,KAAMf,QAAQ,OACdY,OAASZ,QAAQ,qBACjBgG,eAAiBhG,QAAQ,mBAE7BjB,QAAOD,QAAUmG,6GCNjB,YAgBA,SAASrC,eAAepD,GACtByF,gBAAgBzF,GAChBA,EAAUA,GAAWoD,cAAcjC,SAOnCrB,KAAKuC,aAIHc,QAASnD,EAAQ0G,IAAIC,YA8CzB,QAASC,kBAAkB5G,GACzB,GAAIS,GAAOW,OAAOpB,EAElB,IAAIS,EAAKY,WAAaZ,EAAKoG,SACzB,KAAMtF,KAAI,kDA7Ed,GAAIA,KAAMf,QAAQ,OACdY,OAASZ,QAAQ,kBACjB6B,WAAa7B,QAAQ,oBACrBmG,UAAYnG,QAAQ,qBACpBgG,eAAiBhG,QAAQ,iCACzBiF,gBAAkBjF,QAAQ,iCAE9BjB,QAAOD,QAAU8D,cA+BjBA,cAAcjC,YASdiC,cAAcZ,UAAUiB,IAAM,SAAczD,EAAQS,GAClD+F,eAAexG,GACf4G,iBAAiBnG,GAGjBT,EAAS2G,UAAU3G,GACnBA,EAAO4F,SAAWnF,GAAYT,EAAO4F,SAErC9F,KAAKuC,YAAYc,QAAQsB,KAAKzE,IAQhCoD,cAAcZ,UAAUG,OAAS,WAC/B,MAAO7C,MAAKuC,YAAYc,iMClE1B,YAkBA,SAASoB,QAAQvE,EAAQC,GAMvBH,KAAKoD,OAAS,GAAIlC,QAAOhB,GAOzBF,KAAKqD,QAAU,GAAIqC,cAAavF,EAASH,MAQzCA,KAAK0E,MAAQ,GAAI5B,WASjB9C,KAAKgH,UAAW,EA9ClB,GAAI9F,QAASR,QAAQ,YACjBgF,aAAehF,QAAQ,+BACvBoC,UAAYpC,QAAQ,cAExBjB,QAAOD,QAAUiF,OA6CjBwC,OAAOC,iBAAiBzC,OAAO/B,WAM7ByE,MACEC,cAAc,EACdC,YAAY,EACZrE,IAAK,WACH,MAA0B,KAAtBhD,KAAK0E,MAAM1D,OACN,KAEFhB,KAAK0E,MAAM,GAAGtC,OASzBkF,SACEF,cAAc,EACdC,YAAY,EACZrE,IAAK,WACH,MAA0B,KAAtBhD,KAAK0E,MAAM1D,OACN,KAEFhB,KAAK0E,MAAM,GAAGvC,MASzBoF,UACEH,cAAc,EACdC,YAAY,EACZrE,IAAK,WACH,MAAOhD,MAAK0E,MAAM,IAAM,SAU9BD,OAAO/B,UAAUC,SAAW,WAC1B,GAAIzC,GAAWF,KAAKuH,QACpB,OAAIrH,GACKA,EAASyC,WAGT,uBAYX8B,OAAO/B,UAAUK,OAAS,SAAU7C,KAcpCuE,OAAO/B,UAAUM,IAAM,SAAU9C,KAajCuE,OAAO/B,UAAU8E,IAAM,SAAUtH,EAASC,2GCpJ1C,YAEA,IAAImD,eAAgB5C,QAAQ,sBAG5B4C,eAAcjC,SAASsD,KACrBjE,QAAQ,8BACRA,QAAQ,kCACRA,QAAQ,+BACRA,QAAQ,gCACRA,QAAQ,yBAGVjB,OAAOD,QAAUkB,QAAQ,+PCbzB,YA8DA,SAAS+G,qBAAqBvH,EAAQK,GACpC,MAAO,IAAI0C,eAAc/C,EAAQK,GA7DnC,GAAI0C,eAAgBvC,QAAQ,qCACxB+D,OAAS/D,QAAQ,gBACjBuB,KAAOvB,QAAQ,aAOnBjB,QAAOD,QAAUiI,sBAGjBhI,OAAOD,QAAQiE,KAAOR,cAAcP,UAAUe,KAAKiE,KAAKjI,OAAOD,SAC/DC,OAAOD,QAAQyE,UAAYhB,cAAcP,UAAUuB,UAAUyD,KAAKjI,OAAOD,SACzEC,OAAOD,QAAQoE,SAAWX,cAAcP,UAAUkB,SAAS8D,KAAKjI,OAAOD,SAOvEC,OAAOD,QAAQmI,QAAUlI,OAAOD,QAKhCC,OAAOD,QAAQoI,OAASH,oBAKxBhI,OAAOD,QAAQqI,MAObC,SAAU,SAAmB5H,GAC3B,MAAOA,aAAiBuE,SAS1BsD,OAAQ,SAAiB7H,GACvB,MAAOA,aAAiB+B,wHCnD5B,YAwDA,SAAS+F,UAAU3H,GACjB,GAAIH,GAAMG,EAAI4H,WAAW,EAGzB,OAAY,SAAR/H,GAA0B,QAARA,EACbG,EAAI+D,MAAM,GAGZ/D,EA9DT,GAAI6H,cAAexH,QAAQ,uBAK3BjB,QAAOD,SACL2G,KAAM,qBAMNL,SAAU,EASVX,WAAY,SAAqB9E,GAC/B,GAAIH,GAAOG,EAAKiF,KACZ7E,EAAOJ,EAAKkG,IAEhB,IAAIrG,EAAKoC,WAAa4F,aAAahI,EAAKkC,OAASc,MAAMC,QAAQjD,EAAKkC,OAClE,IAEE,GAAIzB,GAAiB,GAAIwH,aAAYjI,EAAKkC,KAM1C,OAAO4F,UAHMI,OAAOC,aAAaC,MAAM,KAAM3H,IAK/C,MAAON,GAELI,QAKFA,0EC7CN,YAkEA,SAAS8H,4BAA4BhI,EAAUF,GAY7C,OATIE,EAESiI,gBAAgBC,KAAKlI,GAAU,GAI/BmI,SAASC,UAGJtI,EAUpB,QAASuI,0BAA0BrI,EAAUF,GAY3C,OATIE,EAEOA,EAASsI,MAAM,KAAKC,OAAO,EAAG,GAAGC,KAAK,KAItCL,SAASM,QAAWN,SAASC,SAAWD,SAASO,MAG5C5I,EAUlB,QAAS6I,wBAAwB3I,EAAUF,GAEpCE,IACHA,EAAWuE,UAAUqE,WAAWT,SAASU,OAG3C,IAAIjJ,GAAmBI,EAASsI,MAAM,KAClC3I,EAAmBG,EAASwI,MAAM,KAGlClI,EAASR,EAAiB2I,OAAO,EAAG,GAAGC,KAAK,IAGhD5I,GAAiBkE,KAGjB,KAAK,GAAIvD,GAAI,EAAGA,EAAIZ,EAAiBc,OAAQF,IAAK,CAChD,GAAIV,GAAUF,EAAiBY,EAE/B,QAAQV,GACN,IAAK,IACH,KACF,KAAK,KACHD,EAAiBkE,KACjB,MACF,SACElE,EAAiBwE,KAAKvE,IAI5B,MAAOO,GAAS,IAAMR,EAAiB4I,KAAK,KAG9C,QAASI,YAAY5I,GACnB,GAAIF,GAAaE,EAAIgE,QAAQ,IAI7B,OAHIlE,IAAc,IAChBE,EAAMA,EAAI8I,OAAO,EAAGhJ,IAEfE,EAlJT,GAAIuE,WAAYpE,QAAQ,qBAGpB8H,gBAAkB,4BAMtB/I,QAAOD,SACL2G,KAAM,mBAMNL,SAAU,GAiBVlB,WAAY,SAAqBrE,GAC/B,GAAIF,GAAOE,EAAK+I,KACZnJ,EAAKI,EAAKsE,EAEd,OAAmB,kBAAR0E,KAEF,GAAIA,KAAIpJ,EAAIE,GAAQqI,SAASU,MAAMA,KAEnCZ,gBAAgBgB,KAAKrJ,GAErBA,EAEoB,OAApBA,EAAGkJ,OAAO,EAAG,GACbd,2BAA2BlI,EAAMF,GAEvB,MAAVA,EAAG,GACHyI,yBAAyBvI,EAAMF,GAG/B+I,uBAAuB7I,EAAMF,qECtD1C,YAiDA,SAASsJ,YAAYvJ,GACnB,MAAOA,GAAKkC,MACY,gBAAdlC,GAAKkC,OAEXsH,gBAAgBF,KAAKtJ,EAAKmC,WAC1BsH,iBAAiBH,KAAKtJ,EAAKiC,MAnDjC,GAAIuH,iBAAkB,aAGlBC,iBAAmB,yBAKvBlK,QAAOD,SACL2G,KAAM,aAQNL,SAAU,GASVb,UAAW,SAAoB/E,GAC7B,GAAIC,GAAOD,EAAKoF,KACZlF,EAAOF,EAAKqG,IAEhB,IAAIkD,WAAWtJ,GACb,MAAOyJ,MAAKC,MAAM1J,EAAKiC,KAIvBhC,iDCtCN,YAEA,IAAI8H,cAAexH,QAAQ,wBAGvBoJ,uBAAgD,kBAAhBC,YAMpCtK,QAAOD,SACL2G,KAAM,oBAMNL,SAAU,GASVX,WAAY,SAAqBjF,GAC/B,GAEIG,GAFAF,EAAOD,EAAKoF,KACZ0E,EAAO9J,EAAKqG,IAGhB,IAAIuD,wBAA0B3J,EAAKmC,UAAY4F,aAAa/H,EAAKiC,MAAO,CACtE,IAEE/B,EAAU,GAAI0J,aAAY5J,EAAKmC,UAAY2H,WAAW,EAAOC,OAAO,IAEtE,MAAOhK,GAEL8J,IAIF,MAAO3J,GAAQ8J,OAAOhK,EAAKiC,MAI3B4H,yEC/CN,YA0EA,SAASI,aAAajK,EAAOD,EAAKI,EAAQF,GAyBxC,QAASC,KACP,GAAIF,IACFkK,OAAQC,kBAAkB/J,EAAI8J,OAAQnK,GACtC2B,QAAS0I,qBAAqBhK,EAAIiK,yBAClCpI,KAAM7B,EAAIkK,UAAYlK,EAAImK,aAGxBvK,GAAIkK,QAAU,KAAOlK,EAAIkK,OAAS,IACpCjK,EAAS,KAAMD,GAGfC,EADOD,EAAIkK,OAAS,KAAOlK,EAAIkK,OAAS,IAC/B5I,IAAI,uCAAwCtB,EAAIkK,QAGhD5I,IAAI,8BAA+BtB,EAAIkK,OAAQ9J,EAAIoK,aAIhE,QAASlK,GAAaN,GACpBC,EAASD,GA3CX,GAAII,GAAM,GAAIqK,eACdrK,GAAIsK,KAAK,MAAO3K,EAAKC,GAErBI,EAAIuK,QAAUrK,EACdF,EAAIwK,UAAYtK,EAChBF,EAAIyK,OAAS3K,EAEbE,EAAIyB,gBAAkB1B,EAAOsB,KAAKI,gBAG9B7B,IACFI,EAAIuB,QAAUxB,EAAOsB,KAAKE,SAI5BmF,OAAOgE,KAAK3K,EAAOsB,KAAKC,SAAS8E,QAAQ,SAAUxG,GACjD,GAAID,GAAQI,EAAOsB,KAAKC,QAAQ1B,OAClB,KAAVD,GACFK,EAAI2K,iBAAiB/K,EAAKD,KAI9BK,EAAI4K,OAgCN,QAASb,mBAAmBnK,EAAQD,GAClC,MAAe,QAAXC,EAGK,IAEAA,IAGqB,UAArBD,EAAImJ,OAAO,EAAG,GAEd,IAIA,GAWX,QAASkB,sBAAsBpK,GAC7B,GAAID,KAcJ,OAZIC,IACFA,EAAQ0I,MAAM,MAAMlC,QAAQ,SAAUxG,GACpC,GAAIG,GAAiBH,EAAKoE,QAAQ,KAC9BnE,EAAMD,EAAKkJ,OAAO,EAAG/I,GAAgBgE,OAAO8G,cAC5C/K,EAAQF,EAAKkJ,OAAO/I,EAAiB,GAAGgE,OAAO8G,aAE/ChL,KACFF,EAAOE,GAAOC,KAKbH,EAxKT,GAAIuB,KAAMf,QAAQ,OACd2K,gBAAkB3K,QAAQ,0BAK9BjB,QAAOD,SACL2G,KAAM,uBAMNL,SAAU,EAQVT,aAAc,SAAuBlF,GACnC,GAEID,GAAOI,EAFPF,EAAOD,EAAKmF,KACZjF,EAASF,EAAKiD,MAQlB,IALAgH,aAAY,EAAOhK,EAAK+B,IAAK9B,EAAQ,SAAyBF,EAAKC,GACjEF,EAAQC,EACRG,EAAWF,IAGTF,EACF,KAAMA,EAIN,OADAmL,iBAAgBjL,EAAME,GACfA,EAAS8B,MAUpBmD,cAAe,SAAwBpF,GACrC,GAAID,GAAOC,EAAKmF,KACZhF,EAASH,EAAKiD,OACdhD,EAAOD,EAAKoG,IAEhB6D,cAAY,EAAOlK,EAAKiC,IAAK7B,EAAQ,SAAyBH,EAAKG,GAC7DH,EACFC,EAAKD,IAGLkL,gBAAgBnL,EAAMI,GACtBF,EAAK,KAAME,EAAI8B,wFC3DvB,YAEA,IAAIX,KAAMf,QAAQ,MAEK,mBAAZiB,SACTlC,OAAOD,QAAUmC,QAGjBlC,OAAOD,QAAU,WACf,KAAMiC,KAAI,2HCTd,YAEsB,mBAAX6J,QACT7L,OAAOD,QAAU8L,OAGjB7L,OAAOD,QAAU,SAAUe,GACzB,MAAOA,8CCPX,YAaA,SAASa,YAAYlB,EAAQG,GAG3B,IAAK,GAFDC,GAAO2G,OAAOgE,KAAK5K,GAEdD,EAAI,EAAGA,EAAIE,EAAKU,OAAQZ,IAAK,CACpC,GAAID,GAAMG,EAAKF,EACfF,GAAOC,GAAO0G,UAAUxG,EAAOF,IAGjC,MAAOD,GAST,QAAS2G,WAAW3G,GAClB,GAAIG,GAAOiB,OAAOpB,EAElB,IAAIG,EAAKmB,OACP,MAAOJ,eAAelB,EAEnB,IAAIG,EAAK8C,QAEZ,IAAK,GADD7C,MACKF,EAAI,EAAGA,EAAIF,EAAMc,OAAQZ,IAChCE,EAAMqE,KAAKkC,UAAU3G,EAAME,SAG1B,IAAIC,EAAKkB,SAGZ,MAAOrB,GA3CX,GAAIoB,QAASZ,QAAQ,WAErBjB,QAAOD,QAAUqH,UACjBpH,OAAOD,QAAQkC,OAASN,kECLxB,YAEA,IAAIkK,QAAS5K,QAAQ,WAOrBjB,QAAOD,QAAU8L,OAAO,qECTxB,YAYA,SAASpD,cAAc/H,GACrB,GAAmB,gBAARA,GACT,IAAK,GAAIE,GAAI,EAAGA,EAAIkL,mBAAmBvK,OAAQX,IAC7C,GAAIF,YAAeoL,oBAAmBlL,GACpC,OAAO,EAWf,QAASmL,yBACP,GAAIrL,KAqCJ,OAlC0B,kBAAfsL,aACTtL,EAAMwE,KAAK8G,YAEc,kBAAhBtD,cACThI,EAAMwE,KAAKwD,aAEc,kBAAhBuD,cACTvL,EAAMwE,KAAK+G,aAEc,kBAAhBC,cACTxL,EAAMwE,KAAKgH,aAEY,kBAAdC,YACTzL,EAAMwE,KAAKiH,WAEa,kBAAfC,aACT1L,EAAMwE,KAAKkH,YAEa,kBAAfC,aACT3L,EAAMwE,KAAKmH,YAEoB,kBAAtBC,oBACT5L,EAAMwE,KAAKoH,mBAEe,kBAAjBC,eACT7L,EAAMwE,KAAKqH,cAEe,kBAAjBC,eACT9L,EAAMwE,KAAKsH,cAEW,kBAAbC,WACT/L,EAAMwE,KAAKuH,UAGN/L,EA/DT,GAAIoL,oBAAqBC,uBAEzB/L,QAAOD,QAAU0I,uDCJjB,YAUA,SAASiE,WAAWjM,GAClB,MAAIA,IAAsB,gBAARA,GACTA,EAAIkL,cAGJ,KAbX3L,OAAOD,QAAU2M,oDCFjB,YAYA,SAAS1J,MAAMvC,EAAKC,GAClBA,EAAQ+C,MAAMR,UAAU0B,MAAMrD,KAAK8C,UAAW,EAI9C,KAAK,GAHDxD,GAAO4G,OAAOgE,KAAK/K,GACnBK,KAEKyD,EAAI,EAAGA,EAAI3D,EAAKW,OAAQgD,IAAK,CACpC,GAAIrD,GAAMsG,OAAOgE,KAAKjH,IAEM,IAAxB7D,EAAMoE,QAAQ5D,KAChBJ,EAAOI,GAAOT,EAAIS,IAItB,MAAOJ,GAvBTd,OAAOD,QAAUiD,+CCFjB,YAcA,SAASuC,UAAUlE,EAAIL,EAAMF,GAkB3B,QAASF,GAAcI,EAAKJ,GACtBH,IACFO,EAAMgB,IAAI,kDAAmDX,EAAGqF,OAGlEjG,GAAiB,EACjBK,EAASE,EAAKJ,GAvBhBI,EAAOyC,MAAMR,UAAU0B,MAAMrD,KAAK8C,UAAW,GAC7CtD,EAAWE,EAAK4D,KAChB,IAAInE,EAEJ,KACEO,EAAKkE,KAAKtE,GACVS,EAAGwH,MAAM,KAAM7H,GAEjB,MAAOK,GACL,GAAIZ,EACF,KAAMY,EAGNT,GAAaS,IA1BnBrB,OAAOD,QAAUwF,QAEjB,IAAIvD,KAAMf,QAAQ,uDCJlB,YAcA,SAAS2K,iBAAiBnL,EAAMC,GAC9B,GAAIE,GAASF,EAAI0B,QAAQ,eAEzB,IAAIxB,GAA4B,gBAAXA,GAAqB,CACxC,GAAII,GAAS2L,YAAYvC,MAAMxJ,EAE/BH,GAAKmC,SAAW8J,UAAU1L,EAAO4L,MACjCnM,EAAKoC,SAAW6J,UAAU1L,EAAO6L,WAAWC,SAAW,OAnB3D,GAAIH,aAAc1L,QAAQ,gBACtByL,UAAYzL,QAAQ,oBAExBjB,QAAOD,QAAU6L,kGCLjB,YAqBA,SAASvG,WAAWxE,GAClB,GAAID,GAAYC,EAAIiE,QAAQ,IAI5B,OAHIlE,IAAa,IACfC,EAAMA,EAAI+I,OAAO,EAAGhJ,IAEfC,EAxBTb,OAAOD,QAAUsF,oDCFjB,YAUA,SAASxD,QAAQpB,GACf,GAAIG,IACFkB,UAAU,EACV4B,SAAS,EACT3B,QAAQ,EACRuF,UAAU,EAGZ,QAAc,KAAV7G,GAAiC,OAAVA,EAAgB,CACzCG,EAAKkB,UAAW,CAChB,IAAIjB,SAAkBJ,EAEL,YAAbI,EACFD,EAAK0G,UAAYyF,MAAMtM,GAEhBgD,MAAMC,QAAQjD,GACrBG,EAAK8C,SAAU,EAGf9C,EAAKmB,SACW,WAAblB,GACCJ,YAAiBuM,SACjBvM,YAAiBwM,OAIzB,MAAOrM,GAlCTZ,OAAOD,QAAU8B;;;;;ACIjB,YA0DA,SAASqL,QAAOzM,GACd,IAAKA,GAAsB,gBAARA,GACjB,KAAM,IAAI0M,WAAU,2BAGtB,IAAIzM,GAAaD,EAAIoM,WACjBjM,EAAOH,EAAImM,IAEf,KAAKhM,IAASwM,WAAWrD,KAAKnJ,GAC5B,KAAM,IAAIuM,WAAU,eAGtB,IAAIxM,GAASC,CAGb,IAAIF,GAAoC,gBAAfA,GAIvB,IAAK,GAHDI,GACAE,EAASwG,OAAOgE,KAAK9K,GAAYyF,OAE5BkH,EAAI,EAAGA,EAAIrM,EAAOO,OAAQ8L,IAAK,CAGtC,GAFAvM,EAAQE,EAAOqM,IAEVC,YAAYvD,KAAKjJ,GACpB,KAAM,IAAIqM,WAAU,yBAGtBxM,IAAU,KAAOG,EAAQ,IAAMyM,QAAQ7M,EAAWI,IAItD,MAAOH,GAWT,QAASyJ,OAAM3J,GACb,IAAKA,EACH,KAAM,IAAI0M,WAAU,8BAGtB,IAAsB,gBAAX1M,IAIa,iBAFtBA,EAAS+M,eAAe/M,IAGtB,KAAM,IAAI0M,WAAU,6CAIxB,IAAsB,gBAAX1M,GACT,KAAM,IAAI0M,WAAU,6CAGtB,IAAIzM,GAAQD,EAAOqE,QAAQ,KACvBlE,GAAkB,IAAXF,EACPD,EAAOmJ,OAAO,EAAGlJ,GAAOmE,OACxBpE,EAAOoE,MAEX,KAAKuI,WAAWrD,KAAKnJ,GACnB,KAAM,IAAIuM,WAAU,qBAGtB,IAAIxM,GACAG,EAEAE,EADAqM,EAAM,GAAII,aAAY7M,EAAK+K,cAK/B,KAFA+B,YAAYC,UAAYjN,EAEjBI,EAAQ4M,YAAY1E,KAAKvI,IAAS,CACvC,GAAIK,EAAM8M,QAAUlN,EAClB,KAAM,IAAIyM,WAAU,2BAGtBzM,IAASI,EAAM,GAAGS,OAClBZ,EAAMG,EAAM,GAAG6K,cACf3K,EAAQF,EAAM,GAEG,MAAbE,EAAM,KAERA,EAAQA,EACL4I,OAAO,EAAG5I,EAAMO,OAAS,GACzBsM,QAAQC,WAAY,OAGzBT,EAAIR,WAAWlM,GAAOK,EAGxB,IAAe,IAAXN,GAAgBA,IAAUD,EAAOc,OACnC,KAAM,IAAI4L,WAAU,2BAGtB,OAAOE,GAWT,QAASG,gBAAe/M,GACtB,MAA6B,kBAAlBA,GAAIsN,UAENtN,EAAIsN,UAAU,gBAGI,gBAAhBtN,GAAI2B,QAEN3B,EAAI2B,SAAW3B,EAAI2B,QAAQ,oBAFpC,GAcF,QAASmL,SAAQ9M,GACf,GAAIC,GAAMiI,OAAOlI,EAGjB,IAAI6M,YAAYvD,KAAKrJ,GACnB,MAAOA,EAGT,IAAIA,EAAIa,OAAS,IAAMyM,WAAWjE,KAAKrJ,GACrC,KAAM,IAAIyM,WAAU,0BAGtB,OAAO,IAAMzM,EAAImN,QAAQI,YAAa,QAAU,IAOlD,QAASR,aAAYhN,GACnBF,KAAKsM,WAAarF,OAAOW,OAAO,MAChC5H,KAAKqM,KAAOnM,EAhMd,GAAIiN,aAAc,+KACdM,WAAa,wCACbV,YAAc,sCAQdQ,WAAa,6BAKbG,YAAc,WASdb,WAAa,wEAOjBrN,SAAQmN,OAASA,OACjBnN,QAAQqK,MAAQA,gDCtDhB,QAAS8C,QAAOzM,GACd,GAAIG,GAAK,kBACLF,EAAO+C,MAAMR,UAAU0B,MAAMrD,KAAK8C,UAAW,EA+BjD,OA9BG1D,GAAKa,SACNd,EAAMA,EAAIoN,QAAQjN,EAAI,SAASH,EAAOG,EAASI,EAAKL,GAClD,GAAIE,GAAMH,EAAKqE,OACf,QAAOpE,GACL,IAAK,IACHE,EAAM,GAAKA,CACX,MACF,KAAK,IACHA,EAAMqN,OAAOrN,EACb,MACF,KAAK,IACHA,EAAMsJ,KAAKgE,UAAUtN,GAGzB,MAAID,IAGJF,EAAK0N,QAAQvN,GACNJ,GAHEI,KAQVH,EAAKa,SACNd,GAAO,IAAMC,EAAK4I,KAAK,MAMlB,IAFP7I,EAAMA,EAAIoN,QAAQ,UAAW,MAK/B7N,OAAOD,QAAUmN,iDCpCjB,YAyBA,SAAS/E,QAAQ1H,GAQf,MAAO,UAAqBG,EAAKF,EAAOI,EAASH,GAC/C,GAAIK,EAEe,iBAARJ,IACTI,EAAmBhB,OAAOD,QAAQsO,UAAUxF,MAAM,KAAMzE,WACxDxD,EAAMF,MAAQ,IAGdM,EADwB,gBAAVN,GACKV,OAAOD,QAAQsO,UAAUxF,MAAM,KAAMlE,MAAMrD,KAAK8C,UAAW,IAEpD,gBAAZtD,GACKd,OAAOD,QAAQsO,UAAUxF,MAAM,KAAMlE,MAAMrD,KAAK8C,UAAW,IAG3D,GAGfxD,YAAeO,SACnBT,EAAQE,EACRA,MAAM,IAGJA,IAEFI,IAAqBA,EAAmB,MAAQ,IAAMJ,EAAI0N,QAK5D,IAAI/J,GAAW,GAAI9D,GAAMO,EAOzB,OAJAuN,aAAYhK,EAAU3D,GACtB4N,aAAajK,GACbkK,OAAOlK,EAAU7D,GAEV6D,GAUX,QAASgK,aAAa9N,EAAaG,GACjC8N,YAAYjO,EAAaG,GACzB6N,OAAOhO,EAAaG,GAAa,GAQnC,QAAS4N,cAAc/N,GACrBA,EAAM2C,OAASuL,YAGflO,EAAMmO,QAAUC,cAUlB,QAASJ,QAAQhO,EAAQG,EAAQF,GAC/B,GAAIE,GAA4B,gBAAXA,GAEnB,IAAK,GADDE,GAAO0G,OAAOgE,KAAK5K,GACdD,EAAI,EAAGA,EAAIG,EAAKS,OAAQZ,IAAK,CACpC,GAAIK,GAAMF,EAAKH,EAGf,MAAID,GAAgCoO,8BAA8BhK,QAAQ9D,IAAQ,GAIlF,IACEP,EAAOO,GAAOJ,EAAOI,GAEvB,MAAOP,MAab,QAASkO,eACP,GAAIlO,MAGAG,EAAO4G,OAAOgE,KAAKjL,KAGvBK,GAAOA,EAAKmO,OAAOD,8BAEnB,KAAK,GAAIpO,GAAI,EAAGA,EAAIE,EAAKW,OAAQb,IAAK,CACpC,GAAII,GAAMF,EAAKF,GACXC,EAAQJ,KAAKO,GACbE,QAAcL,EACL,eAATK,GAAiC,aAATA,IAC1BP,EAAKK,GAAOH,GAIhB,MAAOF,GAQT,QAASoO,iBACP,MAAO1E,MAAKgE,UAAU5N,KAAM,KAAM,GAAGsN,QAAQ,OAAQ,MASvD,QAASa,aAAajO,EAAaG,GAC7BoO,aAAavO,GACXG,EACFqO,eAAexO,EAAaG,GAG5BsO,aAAazO,GAKbA,EAAY0O,MADVvO,EACkBwO,WAAW3O,EAAY0O,MAAOvO,EAAYuO,OAG1CE,SAAS5O,EAAY0O,OAY/C,QAASC,YAAY3O,EAAUG,GAG7B,MAFAH,GAAW4O,SAAS5O,GAEhBA,GAAYG,EACPH,EAAW,OAASG,EAGpBH,GAAYG,EAUvB,QAASyO,UAAU5O,GACjB,GAAIA,EAAO,CACT,GAAIG,GAAQH,EAAM2I,MAAM,KAExB,IAAIxI,EAAMW,OAAS,EAEjB,MAAOd,EAIT,KAAK,GAAIC,GAAI,EAAGA,EAAIE,EAAMW,OAAQb,IAAK,CAErC,GADWE,EAAMF,GACRoE,QAAQ,eAAiB,EAEhC,MADAlE,GAAMyI,OAAO3I,EAAG,GACTE,EAAM0I,KAAK,MAOtB,MAAO7I,IAwBX,QAASuO,cAAcvO,GACrB,IAAK6O,kBACH,OAAO,CAGT,IAAI1O,GAAa4G,OAAO+H,yBAAyB9O,EAAK,QACtD,SAAKG,GAG4B,kBAAnBA,GAAW2C,IAS3B,QAAS0L,gBAAgBxO,EAAaG,GACpC,GAAIF,GAAc8G,OAAO+H,yBAAyB9O,EAAa,QAE/D+G,QAAOgI,eAAe/O,EAAa,SACjC8C,IAAK,WACH,MAAO6L,YAAW1O,EAAY6C,IAAIsF,MAAMpI,GAAcG,EAAYuO,QAEpEvH,YAAY,EACZD,cAAc,IASlB,QAASuH,cAAczO,GACrB,GAAIG,GAAc4G,OAAO+H,yBAAyB9O,EAAO,QAEzD+G,QAAOgI,eAAe/O,EAAO,SAC3B8C,IAAK,WACH,MAAO8L,UAASzO,EAAY2C,IAAIsF,MAAMpI,KAExCmH,YAAY,EACZD,cAAc,IAvSlB,GAAIuF,QAASjM,QAAQ,eACjB0D,MAAQlB,MAAMR,UAAU0B,MACxBmK,+BACF,OAAQ,UAAW,cAAe,SAAU,WAAY,aAAc,eACtE,YAAa,OAAQ,SAAU,QAGjC9O,QAAOD,QAAUoI,OAAOhH,OACxBnB,OAAOD,QAAQsE,MAAQ8D,OAAOhH,OAC9BnB,OAAOD,QAAQ0P,KAAOtH,OAAOuH,WAC7B1P,OAAOD,QAAQ4P,MAAQxH,OAAOyH,YAC9B5P,OAAOD,QAAQ8P,UAAY1H,OAAO2H,gBAClC9P,OAAOD,QAAQgQ,OAAS5H,OAAO6H,aAC/BhQ,OAAOD,QAAQ6M,KAAOzE,OAAOgF,WAC7BnN,OAAOD,QAAQkQ,IAAM9H,OAAO+H,UAC5BlQ,OAAOD,QAAQsO,UAAYnB,MA6N3B,IAAIoC,mBAAqB,WACvB,SAEE9H,OAAO+H,2BAA4B/H,OAAOgI,gBAGpB,mBAAdW,YAA8B,UAAUpG,KAAKoG,UAAUC",
  "file": "json-schema-lib.min.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\nvar ono = require('ono');\nvar typeOf = require('../util/typeOf');\nvar deepAssign = require('../util/deepClone').assign;\n\nmodule.exports = Config;\n\n/**\n * Config that determine how {@link JsonSchemaLib} behaves\n *\n * @param {object} [config] - User-specified config. These override the defaults.\n * @param {object} [defaultConfig] - The default config to use instead of {@link Config.defaults}\n * @class\n */\nfunction Config (config, defaultConfig) {\n  validateConfig(config);\n  deepAssign(this, defaultConfig || Config.defaults);\n\n  if (config) {\n    deepAssign(this, config);\n  }\n}\n\n/**\n * The default configuration.\n */\nConfig.defaults = {\n  /**\n   * The Promise class to use when asynchronous methods are called without a callback.\n   * Users can override this with a custom Promise implementation, such as Bluebird\n   * or a polyfill.\n   *\n   * @type {function}\n   */\n  Promise: require('../util/Promise'),\n\n  /**\n   * Options for downloading files via HTTP and HTTPS.\n   * These options are used by the HttpPlugin and the XhrPlugin.\n   */\n  http: {\n    /**\n     * HTTP headers to send when making HTTP requests.\n     */\n    headers: {},\n\n    /**\n     * The maximum amount of time (in milliseconds) to wait for an HTTP response.\n     *\n     * @type {number}\n     */\n    timeout: 5000,\n\n    /**\n     * The maximum number of HTTP redirects to follow.\n     * If set to zero, then no redirects will be followed.\n     *\n     * NOTE: This option only applies to Node.js. In a web browser, redirects are automatically\n     * followed, and there is no way to disable or limit this.\n     *\n     * @type {number}\n     */\n    maxRedirects: 5,\n\n    /**\n     * Determines whether HTTP requests should include credentials, such as cookies,\n     * authorization headers, TLS certificates, etc.\n     *\n     * NOTE: This option only applies to web browsers, not Node.js.\n     *\n     * @type {boolean}\n     */\n    withCredentials: false,\n  },\n};\n\n/**\n * Ensures that a user-supplied value is a valid configuration POJO.\n * An error is thrown if the value is invalid.\n *\n * @param {*} config - The user-supplied value to validate\n */\nfunction validateConfig (config) {\n  var type = typeOf(config);\n\n  if (type.hasValue && !type.isPOJO) {\n    throw ono('Invalid arguments. Expected a configuration object.');\n  }\n}\n",
    "'use strict';\n\nvar omit = require('../util/omit');\nvar __internal = require('../util/internal');\n\nmodule.exports = File;\n\n/**\n * Contains information about a file, such as its path, type, and contents.\n *\n * @param {Schema} schema - The JSON Schema that the file is part of\n *\n * @class\n */\nfunction File (schema) {\n  /**\n   * The {@link Schema} that this file belongs to.\n   *\n   * @type {Schema}\n   */\n  this.schema = schema;\n\n  /**\n   * The file's full (absolute) URL, without any hash\n   *\n   * @type {string}\n   */\n  this.url = '';\n\n  /**\n   * The file's data. This can be any data type, including a string, object, array, binary, etc.\n   *\n   * @type {*}\n   */\n  this.data = undefined;\n\n  /**\n   * The file's MIME type (e.g. \"application/json\", \"text/html\", etc.), if known.\n   *\n   * @type {?string}\n   */\n  this.mimeType = undefined;\n\n  /**\n   * The file's encoding (e.g. \"utf-8\", \"iso-8859-2\", \"windows-1251\", etc.), if known\n   *\n   * @type {?string}\n   */\n  this.encoding = undefined;\n\n  /**\n   * Internal stuff. Use at your own risk!\n   *\n   * @private\n   */\n  this[__internal] = {\n    /**\n     * Keeps track of the state of each file as the schema is being read.\n     *\n     * @type {number}\n     */\n    state: 0,\n  };\n}\n\n/**\n * Returns a human-friendly representation of the File object.\n *\n * @returns {string}\n */\nFile.prototype.toString = function toString () {\n  return this.path;\n};\n\n/**\n * Allows the {@link File} to be safely serialized as JSON by removing circular references.\n *\n * @returns {object}\n */\nFile.prototype.toJSON = function toJSON () {\n  return omit(this, 'schema', __internal);\n};\n",
    "'use strict';\n\nmodule.exports = FileArray;\n\n/**\n * An array of {@link File} objects, with some helper methods.\n *\n * @returns {array}\n */\nfunction FileArray () {\n  var files = [];\n\n  /**\n   * Determines whether a given file is in the array.\n   *\n   * @param {string} url - An absolute or relative file path or URL\n   * @returns {boolean}\n   */\n  files.exists = function exists (url) {\n    // TODO: Implement File.exists()\n  };\n\n  /**\n   * Returns the given file in the array. Throws an error if not found.\n   *\n   * @param {string} url - An absolute or relative file path or URL\n   * @returns {File}\n   */\n  files.get = function get (url) {\n    // TODO: Implement File.get()\n  };\n\n  return files;\n}\n",
    "/* eslint no-unused-vars:off */\n'use strict';\n\nvar ono = require('ono');\nvar Config = require('../Config');\nvar PluginManager = require('../PluginManager');\nvar read = require('./read');\nvar normalizeArgs = require('./normalizeArgs');\n\nmodule.exports = JsonSchemaLib;\n\n/**\n * The public JsonSchemaLib API.\n *\n * @param {Config} [config] - The configuration to use. Can be overridden by {@link JsonSchemaLib#read}\n * @param {object[]} [plugins] - The plugins to use. Additional plugins can be added via {@link JsonSchemaLib#use}\n *\n * @class\n */\nfunction JsonSchemaLib (config, plugins) {\n  if (Array.isArray(config)) {\n    plugins = config;\n    config = undefined;\n  }\n\n  /**\n   * The configuration for this instance of {@link JsonSchemaLib}.\n   *\n   * @type {Config}\n   */\n  this.config = new Config(config);\n\n  /**\n   * The plugins that have been added to this instance of {@link JsonSchemaLib}\n   *\n   * @type {object[]}\n   */\n  this.plugins = new PluginManager(plugins);\n}\n\n/**\n * Adds a plugin to this {@link JsonSchemaLib} instance.\n *\n * @param {object} plugin - A plugin object\n * @param {number} [priority] - Optionaly override the plugin's default priority.\n */\nJsonSchemaLib.prototype.use = function use (plugin, priority) {\n  this.plugins.use(plugin, priority);\n};\n\n/**\n * Synchronously reads the given file, URL, or data, including any other files or URLs that are\n * referneced by JSON References ($ref).\n *\n * @param {string} [url]\n * The file path or URL of the JSON schema\n *\n * @param {object|string} [data]\n * The JSON schema, as an object, or as a JSON/YAML string. If you omit this, then the data will\n * be read from `url` instead.\n *\n * @param {Config} [config]\n * Config that determine how the schema will be read\n *\n * @returns {Schema}\n */\nJsonSchemaLib.prototype.readSync = function readSync (url, data, config) {\n  var args = normalizeArgs(arguments);\n  var error = args.error;\n\n  url = args.url;\n  data = args.data;\n  config = args.config;\n\n  config.sync = true;\n\n  if (error) {\n    // The arguments are invalid\n    throw error;\n  }\n  else {\n    var e, s;\n\n    // Call `read()` synchronously, and capture the result\n    read.call(this, url, data, config, function (err, schema) {\n      e = err;\n      s = schema;\n    });\n\n    // Return the result synchronously\n    if (e) {\n      throw e;\n    }\n    else {\n      return s;\n    }\n  }\n};\n\n/**\n * Asynchronously reads the given file, URL, or data, including any other files or URLs that are\n * referneced by JSON References ($ref).\n *\n * @param {string} [url]\n * The file path or URL of the JSON schema\n *\n * @param {object|string} [data]\n * The JSON schema, as an object, or as a JSON/YAML string. If you omit this, then the data will\n * be read from `url` instead.\n *\n * @param {Config} [config]\n * Config that determine how the schema will be read\n *\n * @param {function} [callback]\n * An error-first callback. If not specified, then a Promise will be returned.\n *\n * @returns {Promise<Schema>|undefined}\n */\nJsonSchemaLib.prototype.read = JsonSchemaLib.prototype.readAsync = function readAsync (url, data, config, callback) {\n  var args = normalizeArgs(arguments);\n  var error = args.error;\n  var me = this;\n\n  url = args.url;\n  data = args.data;\n  config = args.config;\n  callback = args.callback;\n\n  config.sync = false;\n\n  if (error) {\n    // The arguments are invalid\n    if (callback) {\n      callAsync(callback, error);\n    }\n    else {\n      return config.Promise.reject(error);\n    }\n  }\n  else if (callback) {\n    try {\n      // Call `read()`, and forward the result to the callback\n      read.call(this, url, data, config, function (err, schema) {\n        callAsync(callback, err, schema);\n      });\n    }\n    catch (err) {\n      // `read()` threw an error, so forward it to the callback\n      callAsync(callback, err);\n    }\n  }\n  else {\n    // Wrap `read()` in a Promise\n    return new config.Promise(function (resolve, reject) {\n      read.call(me, url, data, config, function (err, schema) {\n        if (err) {\n          reject(err);\n        }\n        else {\n          resolve(schema);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Calls the callback function, wrapping it in a `setTimeout` to ensure that it's not\n * called synchronously.\n *\n * @param {function} fn\n * @param {Error} [error]\n * @param {Schema} [schema]\n */\nfunction callAsync (fn, error, schema) {\n  setTimeout(function () {\n    fn(error, schema);\n  }, 0);\n}\n",
    "'use strict';\n\nvar ono = require('ono');\nvar Config = require('../Config');\n\nmodule.exports = normalizeArgs;\n\n/**\n * Normalizes arguments for the {@link JsonSchemaLib#readAsync} and {@link JsonSchemaLib#readSync}\n * methods, accounting for optional args and defaults.\n *\n * NOTE: This function does NOT throw errors. The calling code is responsible for checking the\n * `error` property of the returned object, and handling it appropriately.\n *\n * @param {Arguments} args\n * @returns {{ error: ?Error, url: ?string, data: *, config: Config, callback: ?function }}\n */\nfunction normalizeArgs (args) {\n  var error, url, data, config, callback;\n\n  try {\n    args = Array.prototype.slice.call(args);\n\n    if (typeof args[args.length - 1] === 'function') {\n      // The last parameter is a callback function\n      callback = args.pop();\n    }\n\n    // If the first parameter is a string, then it could be a URL or a JSON/YAML string\n    if (typeof args[0] === 'string' && args[0].trim()[0] !== '{' && args[0].indexOf('\\n') === -1) {\n      // The first parameter is the URL\n      url = args[0];\n      args.shift();\n    }\n    else {\n      url = '';\n    }\n\n    if (typeof args[0] === 'string' || args.length === 2) {\n      // The next parameter is the JSON Schema (as a JSON/YAML string, an object, null, undefined, etc.)\n      data = args[0];\n      args.shift();\n    }\n\n    // The next argument is the config. If null/undefined, then the default config will be used instead\n    config = new Config(args[0]);\n    args.shift();\n\n    // There shouldn't be any more arguments left\n    if (args.length > 0) {\n      throw ono('Too many arguments. Expected a URL, schema, config, and optional callback.');\n    }\n\n    // Either a url or data is required\n    if (!url && !data) {\n      throw ono('Invalid arguments. Expected at least a URL or schema.');\n    }\n  }\n  catch (e) {\n    error = e;\n  }\n\n  return {\n    error: error,\n    url: url,\n    data: data,\n    config: config,\n    callback: callback\n  };\n}\n",
    "'use strict';\n\nvar Schema = require('../Schema');\nvar File = require('../File');\nvar safeCall = require('../../util/safeCall');\nvar stripHash = require('../../util/stripHash');\nvar typeOf = require('../../util/typeOf');\nvar __internal = require('../../util/internal');\n\nvar STATE_READING = 1;\nvar STATE_READ = 2;\n\nmodule.exports = read;\n\n/**\n * Reads the given file, URL, or data, including any other files or URLs that are referneced\n * by JSON References ($ref).\n *\n * @param {string} url\n * @param {object|string|undefined} data\n * @param {Config} config\n * @param {function} callback\n *\n * @this JsonSchemaLib\n */\nfunction read (url, data, config, callback) {\n  // Create a new JSON Schema and root file\n  var schema = new Schema(config, this.plugins.toJSON());\n  var rootFile = new File(schema);\n  schema.files.push(rootFile);\n\n  if (url) {\n    // Resolve the user-supplied URL to an absolute URL\n    url = schema.plugins.resolveURL({ to: url });\n\n    // Remove any hash from the URL, since this URL represents the WHOLE file, not a fragment of it\n    rootFile.url = stripHash(url);\n  }\n\n  if (data) {\n    // No need to read the file, because its data was passed-in\n    rootFile.data = data;\n    rootFile[__internal].state = STATE_READ;\n    safeCall(parseFile, rootFile, callback);\n  }\n  else {\n    // Read/download the file\n    safeCall(readFile, rootFile, callback);\n  }\n}\n\n/**\n * Reads the given file from its source (e.g. web server, filesystem, etc.)\n *\n * @param {File} file\n * @param {function} callback\n */\nfunction readFile (file, callback) {\n  var schema = file.schema;\n  file[__internal].state = STATE_READING;\n\n  if (schema.config.sync) {\n    file.data = schema.plugins.readFileSync({ file: file });\n    doneReading(null, file.data);\n  }\n  else {\n    schema.plugins.readFileAsync({ file: file }, doneReading);\n  }\n\n  function doneReading (err, data) {\n    if (err) {\n      callback(err);\n    }\n    else {\n      file.data = data;\n      file[__internal].state = STATE_READ;\n      safeCall(decodeFile, file, callback);\n    }\n  }\n}\n\n/**\n * Decodes the {@link File#data} property of the given file.\n *\n * @param {File} file\n * @param {function} callback\n */\nfunction decodeFile (file, callback) {\n  file.data = file.schema.plugins.decodeFile({ file: file });\n  safeCall(parseFile, file, callback);\n}\n\n/**\n * Parses the {@link File#data} property of the given file.\n *\n * @param {File} file\n * @param {function} callback\n */\nfunction parseFile (file, callback) {\n  file.data = file.schema.plugins.parseFile({ file: file });\n  safeCall(resolveRefs, file, callback);\n}\n\n/**\n * Resolves all JSON References ($ref) in the given file, and adds any new files to the schema.\n *\n * @param {File} file\n * @param {function} callback\n */\nfunction resolveRefs (file, callback) {\n  if (typeOf(file.data).isPOJO) {\n    // TODO: Resolve all $refs in the file. Add File objects to the schema\n  }\n\n  safeCall(readReferencedFiles, file.schema, callback);\n}\n\n/**\n * Reads any files in the schema that haven't been read yet.\n *\n * @param {Schema} schema\n * @param {function} callback\n */\nfunction readReferencedFiles (schema, callback) {\n  var filesBeingRead = [], filesToRead = [];\n  var file, i;\n\n  // Check the state of all files in the schema\n  for (i = 0; i < schema.files.length; i++) {\n    file = schema.files[i];\n\n    if (file[__internal].state < STATE_READING) {\n      filesToRead.push(file);\n    }\n    else if (file[__internal].state < STATE_READ) {\n      filesBeingRead.push(file);\n    }\n  }\n\n  // Have we finished reading everything?\n  if (filesToRead.length === 0 && filesBeingRead.length === 0) {\n    return callback(null, schema);\n  }\n\n  // Start reading any files that haven't been read yet\n  for (i = 0; i < filesToRead.length; i++) {\n    file = filesToRead[i];\n    safeCall(readFile, file, callback);\n  }\n}\n",
    "/* eslint no-unused-vars:off */\n'use strict';\n\nvar ono = require('ono');\nvar __internal = require('../../util/internal');\nvar validatePlugins = require('./validatePlugins');\nvar omit = require('../../util/omit');\nvar callSyncPlugin = require('./callSyncPlugin');\nvar callAsyncPlugin = require('./callAsyncPlugin');\n\nmodule.exports = PluginHelper;\n\n/**\n * Helper methods for working with plugins.\n *\n * @param {object[]|null} plugins - The plugins to use\n * @param {Schema} schema - The {@link Schema} to apply the plugins to\n */\nfunction PluginHelper (plugins, schema) {\n  validatePlugins(plugins);\n  plugins = plugins || [];\n\n  /**\n   * Internal stuff. Use at your own risk!\n   *\n   * @private\n   */\n  this[__internal] = {\n    /**\n     * A reference to the {@link Schema} object\n     */\n    schema: schema,\n\n    /**\n     * The array of plugins, sorted by priority\n     */\n    plugins: plugins.slice().sort(sortByPriority),\n  };\n}\n\n/**\n * Resolves a URL, relative to a base URL.\n *\n * @param {?string} args.from - The base URL to resolve against, if any\n * @param {string} args.to - The URL to resolve. This may be absolute or relative.\n * @returns {string} - Returns an absolute URL\n */\nPluginHelper.prototype.resolveURL = function resolveURL (args) {\n  try {\n    var handled = callSyncPlugin(this, 'resolveURL', args);\n    var url = handled.result;\n    var plugin = handled.plugin || { name: '' };\n\n    if (url === undefined || url === null) {\n      throw ono('Error in %s.resolveURL: No value was returned', plugin.name);\n    }\n    else if (typeof url !== 'string') {\n      throw ono('Error in %s.resolveURL: The return value was not a string (%s)', plugin.name, typeof url);\n    }\n    else {\n      return url;\n    }\n  }\n  catch (err) {\n    throw ono(err, 'Unable to resolve %s', args.to);\n  }\n};\n\n/**\n * Synchronously reads the given file from its source (e.g. web server, filesystem, etc.)\n *\n * @param {File} args.file - The {@link File} to read\n * @returns {string|ArrayBuffer|Buffer}\n */\nPluginHelper.prototype.readFileSync = function readFileSync (args) {\n  try {\n    var handled = callSyncPlugin(this, 'readFileSync', args);\n\n    if (!handled.plugin) {\n      throw ono('Error in readFileSync: No plugin was able to read the file');\n    }\n    else {\n      return handled.result;\n    }\n  }\n  catch (err) {\n    throw ono(err, 'Unable to read %s', args.file.url);\n  }\n};\n\n/**\n * Asynchronously reads the given file from its source (e.g. web server, filesystem, etc.)\n *\n * @param {File} args.file\n * The {@link File} to read. Its {@link File#data} property will be set to the file's contents.\n * In addition, {@link File#mimeType} and {@link File#encoding} may be set, if determinable.\n *\n * @param {function} callback\n * The callback function to call after the file has been read\n */\nPluginHelper.prototype.readFileAsync = function readFileAsync (args, callback) {\n  callAsyncPlugin(this, 'readFileAsync', args, function (err, handled) {\n    if (!err && !handled.plugin) {\n      err = ono('Error in readFileAsync: No plugin was able to read the file');\n    }\n\n    if (err) {\n      err = ono(err, 'Unable to read %s', args.file.url);\n      callback(err);\n    }\n    else {\n      callback(null, handled.result);\n    }\n  });\n};\n\n/**\n * Decodes the given file's data, in place.\n *\n * @param {File} args.file - The {@link File} to decode.\n * @returns {string|ArrayBuffer|Buffer}\n */\nPluginHelper.prototype.decodeFile = function decodeFile (args) {\n  try {\n    var handled = callSyncPlugin(this, 'decodeFile', args);\n\n    // NOTE: It's ok if no plugin handles this method.\n    // The file data will just remain in its \"raw\" format.\n    return handled.result;\n  }\n  catch (err) {\n    throw ono(err, 'Unable to parse %s', args.file.url);\n  }\n};\n\n/**\n * Parses the given file's data, in place.\n *\n * @param {File} args.file - The {@link File} to parse.\n * @returns {*} - The parsed data, which can be any value (string, number, object, array, null, undefined, etc.)\n */\nPluginHelper.prototype.parseFile = function parseFile (args) {\n  try {\n    var handled = callSyncPlugin(this, 'parseFile', args);\n\n    // NOTE: It's ok if no plugin handles this method.\n    // The file data will just remain in its \"raw\" format.\n    return handled.result;\n  }\n  catch (err) {\n    throw ono(err, 'Unable to parse %s', args.file.url);\n  }\n};\n\n/**\n * Allows the {@link PluginHelper} to be safely serialized as JSON by removing circular references.\n *\n * @returns {object}\n */\nPluginHelper.prototype.toJSON = function toJSON () {\n  return omit(this, __internal);\n};\n\n/**\n * Used to sort plugins by priority, so that plugins with higher piority come first\n * in the __plugins array.\n *\n * @param {object} pluginA\n * @param {object} pluginB\n * @returns {number}\n */\nfunction sortByPriority (pluginA, pluginB) {\n  return pluginB.priority - pluginA.priority;\n}\n",
    "'use strict';\n\nvar ono = require('ono');\nvar __internal = require('../../util/internal');\nvar safeCall = require('../../util/safeCall');\nvar filterByMethod = require('./filterByMethod');\n\nmodule.exports = callAsyncPlugin;\n\n/**\n * Calls an asynchronous plugin method with the given arguments.\n *\n * @param {PluginHelper} pluginHelper - The {@link PluginHelper} whose plugins are called\n * @param {string} methodName - The name of the plugin method to call\n * @param {object} args - The arguments to pass to the method\n * @param {function} callback - The callback to call when the method finishes\n */\nfunction callAsyncPlugin (pluginHelper, methodName, args, callback) {\n  var plugins = pluginHelper[__internal].plugins.filter(filterByMethod(methodName));\n  args.schema = pluginHelper[__internal].schema;\n  args.config = args.schema.config;\n\n  safeCall(callNextPlugin, plugins, methodName, args, callback);\n}\n\n/**\n * Calls the the next plugin from an array of plugins.\n *\n * @param {object[]} plugins - The array of plugins\n * @param {string} methodName - The name of the plugin method to call\n * @param {object} args - The arguments to pass to the method\n * @param {function} callback - The callback to call if the plugin returns a result or throws an error\n */\nfunction callNextPlugin (plugins, methodName, args, callback) {\n  var nextCalled;\n  var plugin = plugins.shift();\n  var Promise = args.config.Promise;\n\n  if (!plugin) {\n    // We've reached the end of the plugin chain. No plugin returned a value.\n    callback(null, { plugin: null, result: undefined });\n  }\n\n  // Invoke the plugin method. It can return a value, return a Promise, throw an error, or call next()\n  args.next = next;\n  var returnValue = plugin[methodName].call(null, args);\n\n  if (returnValue !== undefined) {\n    Promise.resolve(returnValue).then(function (result) {\n      var err;\n      if (nextCalled) {\n        err = ono('Error in %s.%s: Cannot return a value and call next()', plugin.name, methodName);\n      }\n      done(err, result);\n    });\n  }\n\n  function next (err, result) {\n    if (nextCalled) {\n      err = ono('Error in %s.%s: next() was called multiple times', plugin.name, methodName);\n    }\n\n    nextCalled = true;\n    done(err, result);\n  }\n\n  function done (err, result) {\n    if (err) {\n      callback(ono(err, 'Error in %s.%s:', plugin.name, methodName));\n    }\n    else if (nextCalled && result === undefined) {\n      safeCall(callNextPlugin, plugins, methodName, args, callback);\n    }\n    else {\n      // next() was NOT called, so return the plugin's result (even if there was no return value)\n      callback(null, { plugin: plugin, result: result });\n    }\n  }\n}\n",
    "'use strict';\n\nvar ono = require('ono');\nvar __internal = require('../../util/internal');\nvar filterByMethod = require('./filterByMethod');\n\nmodule.exports = callSyncPlugin;\n\n/**\n * Calls a synchronous plugin method with the given arguments.\n *\n * @param {PluginHelper} pluginHelper - The {@link PluginHelper} whose plugins are called\n * @param {string} methodName - The name of the plugin method to call\n * @param {object} args - The arguments to pass to the method\n *\n * @returns {{ result: *, plugin: ?object }}\n * If the method was handled by a plugin (i.e. the plugin didn't call next()), then the returned\n * object will contain a reference to the plugin, and the result that was returned by the plugin.\n */\nfunction callSyncPlugin (pluginHelper, methodName, args) {\n  var plugins = pluginHelper[__internal].plugins.filter(filterByMethod(methodName));\n  args.schema = pluginHelper[__internal].schema;\n  args.config = args.schema.config;\n\n  return callNextPlugin(plugins, methodName, args);\n}\n\n/**\n * Calls the the next plugin from an array of plugins.\n *\n * @param {object[]} plugins - The array of plugins\n * @param {string} methodName - The name of the plugin method to call\n * @param {object} args - The arguments to pass to the method\n * @returns {{ plugin: ?object, result: * }}\n */\nfunction callNextPlugin (plugins, methodName, args) {\n  var result, error, nextCalled;\n  var plugin = plugins.shift();\n\n  if (!plugin) {\n    // We've reached the end of the plugin chain. No plugin returned a value.\n    return { plugin: null, result: undefined };\n  }\n\n  // Invoke the plugin method. It can return a value, throw an error, or call next()\n  args.next = next;\n  result = plugin[methodName].call(null, args);\n\n  if (result !== undefined && nextCalled) {\n    throw ono('Error in %s.%s: Cannot return a value and call next()', plugin.name, methodName);\n  }\n\n  if (error) {\n    throw ono(error, 'Error in %s.%s:', plugin.name, methodName);\n  }\n  else if (nextCalled && result === undefined) {\n    return callNextPlugin(plugins, methodName, args);\n  }\n  else {\n    // next() was NOT called, so return the plugin's result (even if there was no return value)\n    return { plugin: plugin, result: result };\n  }\n\n  function next (err, value) {\n    if (nextCalled) {\n      error = ono('Error in %s.%s: next() was called multiple times', plugin.name, methodName);\n    }\n\n    nextCalled = true;\n    error = err;\n    result = value;\n  }\n}\n",
    "'use strict';\n\nmodule.exports = filterByMethod;\n\n/**\n * Used to filter plugins that implement the specified method.\n *\n * @param {string} methodName\n * @returns {function}\n */\nfunction filterByMethod (methodName) {\n  return function methodFilter (plugin) {\n    return typeof plugin[methodName] === 'function';\n  };\n}\n",
    "'use strict';\n\nvar ono = require('ono');\nvar typeOf = require('../../util/typeOf');\n\nmodule.exports = validatePlugin;\n\n/**\n * Ensures that a user-supplied value is a valid plugin POJO.\n * An error is thrown if the value is invalid.\n *\n * @param {*} plugin - The user-supplied value to validate\n */\nfunction validatePlugin (plugin) {\n  var type = typeOf(plugin);\n\n  if (!type.isPOJO) {\n    throw ono('Invalid arguments. Expected a plugin object.');\n  }\n}\n",
    "'use strict';\n\nvar ono = require('ono');\nvar typeOf = require('../../util/typeOf');\nvar validatePlugin = require('./validatePlugin');\n\nmodule.exports = validatePlugins;\n\n/**\n * Ensures that a user-supplied value is a valid array of plugins.\n * An error is thrown if the value is invalid.\n *\n * @param {*} plugins - The user-supplied value to validate\n */\nfunction validatePlugins (plugins) {\n  var type = typeOf(plugins);\n\n  if (type.hasValue) {\n    if (type.isArray) {\n      // Make sure all the items in the array are valid plugins\n      plugins.forEach(validatePlugin);\n    }\n    else {\n      throw ono('Invalid arguments. Expected an array of plugins.');\n    }\n  }\n}\n",
    "'use strict';\n\nvar ono = require('ono');\nvar typeOf = require('../util/typeOf');\nvar __internal = require('../util/internal');\nvar deepClone = require('../util/deepClone');\nvar validatePlugin = require('./PluginHelper/validatePlugin');\nvar validatePlugins = require('./PluginHelper/validatePlugins');\n\nmodule.exports = PluginManager;\n\n/**\n * Manages the plugins that are used by a {@link JsonSchemaLib} instance.\n *\n * @param {object[]} [plugins] - The initial plugins to load\n */\nfunction PluginManager (plugins) {\n  validatePlugins(plugins);\n  plugins = plugins || PluginManager.defaults;\n\n  /**\n   * Internal stuff. Use at your own risk!\n   *\n   * @private\n   */\n  this[__internal] = {\n    /**\n     * The array of plugins\n     */\n    plugins: plugins.map(deepClone),\n  };\n}\n\n/**\n * The default plugins that are used if no plugins are specified.\n *\n * NOTE: The default plugins differ for Node.js and web browsers.\n *\n * @type {object[]}\n */\nPluginManager.defaults = [];\n\n/**\n * Adds a plugin to this {@link PluginManager} instance.\n *\n * @param {object} plugin - A plugin object\n * @param {number} [priority] - Optionaly override the plugin's default priority.\n * @private\n */\nPluginManager.prototype.use = function use (plugin, priority) {\n  validatePlugin(plugin);\n  validatePriority(priority);\n\n  // Clone the plugin, so that multiple JsonSchemaLib instances can safely use the same plugin\n  plugin = deepClone(plugin);\n  plugin.priority = priority || plugin.priority;\n\n  this[__internal].plugins.push(plugin);\n};\n\n/**\n * Serializes the {@link PluginManager}\n *\n * @private\n */\nPluginManager.prototype.toJSON = function toJSON () {\n  return this[__internal].plugins;\n};\n\n/**\n * Ensures that a user-supplied value is a valid plugin priority.\n * An error is thrown if the value is invalid.\n *\n * @param {*} priority - The user-supplied value to validate\n */\nfunction validatePriority (priority) {\n  var type = typeOf(priority);\n\n  if (type.hasValue && !type.isNumber) {\n    throw ono('Invalid arguments. Expected a priority number.');\n  }\n}\n",
    "'use strict';\n\nvar Config = require('./Config');\nvar PluginHelper = require('./PluginHelper/PluginHelper');\nvar FileArray = require('./FileArray');\n\nmodule.exports = Schema;\n\n/**\n * This class represents the entire JSON Schema. It contains information about all the files in the\n * schema, and provides methods to traverse the schema and get/set values within it using\n * JSON Pointers.\n *\n * @param {Config|object} [config] - The config settings that apply to the schema\n * @param {object[]} [plugins] - The plugins to use for the schema\n *\n * @class\n */\nfunction Schema (config, plugins) {\n  /**\n   * The config settings that apply to this schema.\n   *\n   * @type {Config}\n   */\n  this.config = new Config(config);\n\n  /**\n   * The plugins to use for this schema.\n   *\n   * @type {PluginHelper}\n   */\n  this.plugins = new PluginHelper(plugins, this);\n\n  /**\n   * All of the files in the schema, including the main schema file itself\n   *\n   * @type {File[]}\n   * @readonly\n   */\n  this.files = new FileArray();\n\n  /**\n   * Indicates whether the schema contains any circular references.\n   * Schemas with circular references may cause errors if you attempt to convert them to JSON.\n   *\n   * @type {boolean}\n   * @readonly\n   */\n  this.circular = false;\n}\n\nObject.defineProperties(Schema.prototype, {\n  /**\n   * The parsed JSON Schema.\n   *\n   * @type {object|null}\n   */\n  root: {\n    configurable: true,\n    enumerable: true,\n    get: function () {\n      if (this.files.length === 0) {\n        return null;\n      }\n      return this.files[0].data;\n    }\n  },\n\n  /**\n   * The URL of the main JSON Schema file.\n   *\n   * @type {string|null}\n   */\n  rootUrl: {\n    configurable: true,\n    enumerable: true,\n    get: function () {\n      if (this.files.length === 0) {\n        return null;\n      }\n      return this.files[0].url;\n    }\n  },\n\n  /**\n   * The main JSON Schema file.\n   *\n   * @type {File}\n   */\n  rootFile: {\n    configurable: true,\n    enumerable: true,\n    get: function () {\n      return this.files[0] || null;\n    }\n  },\n});\n\n/**\n * Returns a human-friendly representation of the Schema object.\n *\n * @returns {string}\n */\nSchema.prototype.toString = function () {\n  var rootFile = this.rootFile;\n  if (rootFile) {\n    return rootFile.toString();\n  }\n  else {\n    return '(empty JSON schema)';\n  }\n};\n\n/**\n * Determines whether a given value exists in the schema.\n *\n * @param {string} pointer - A JSON Pointer that points to the value to check.\n *                           Or a URL with a url-encoded JSON Pointer in the hash.\n *\n * @returns {boolean}      - Returns true if the value exists, or false otherwise\n */\nSchema.prototype.exists = function (pointer) {\n  // TODO: pointer can be a JSON Pointer (starting with a /) or a URL\n};\n\n/**\n * Finds a value in the schema.\n *\n * @param {string} pointer - A JSON Pointer that points to the value to get.\n *                           Or a URL with a url-encoded JSON Pointer in the hash.\n *\n * @returns {*}            - Returns the specified value, which can be ANY JavaScript type, including\n *                           an object, array, string, number, null, undefined, NaN, etc.\n *                           If the value is not found, then an error is thrown.\n */\nSchema.prototype.get = function (pointer) {\n  // TODO: pointer can be a JSON Pointer (starting with a /) or a URL\n};\n\n/**\n * Sets a value in the schema.\n *\n * @param {string} pointer - A JSON Pointer that points to the value to set.\n *                           Or a URL with a url-encoded JSON Pointer in the hash.\n *\n * @param {*}      value   - The value to assign. This can be ANY JavaScript type, including\n *                           an object, array, string, number, null, undefined, NaN, etc.\n */\nSchema.prototype.set = function (pointer, value) {\n  // TODO: pointer can be a JSON Pointer (starting with a /) or a URL\n};\n",
    "'use strict';\n\nvar PluginManager = require('./api/PluginManager');\n\n// Default plugins for web browsers\nPluginManager.defaults.push(\n  require('./plugins/BrowserUrlPlugin'),\n  require('./plugins/XMLHttpRequestPlugin'),\n  require('./plugins/TextDecoderPlugin'),\n  require('./plugins/ArrayDecoderPlugin'),\n  require('./plugins/JsonPlugin')\n);\n\nmodule.exports = require('./exports');\n",
    "'use strict';\n\nvar JsonSchemaLib = require('./api/JsonSchemaLib/JsonSchemaLib');\nvar Schema = require('./api/Schema');\nvar File = require('./api/File');\n\n/**\n * The default instance of {@link JsonSchemaLib}\n *\n * @type {JsonSchemaLib}\n */\nmodule.exports = createJsonSchemaLib();\n\n// Bind the \"read\" methods of the default instance, so they can be used as standalone functions\nmodule.exports.read = JsonSchemaLib.prototype.read.bind(module.exports);\nmodule.exports.readAsync = JsonSchemaLib.prototype.readAsync.bind(module.exports);\nmodule.exports.readSync = JsonSchemaLib.prototype.readSync.bind(module.exports);\n\n/**\n * Allows ES6 default import syntax (for Babel, TypeScript, etc.)\n *\n * @type {JsonSchemaLib}\n */\nmodule.exports.default = module.exports;\n\n/**\n * Factory function for creating new instances of {@link JsonSchemaLib}\n */\nmodule.exports.create = createJsonSchemaLib;\n\n/**\n * Utility methods for plugin developers\n */\nmodule.exports.util = {\n  /**\n   * Determines whether the given value is a {@link Schema} object\n   *\n   * @param {*} value\n   * @returns {boolean}\n   */\n  isSchema: function isSchema (value) {\n    return value instanceof Schema;\n  },\n\n  /**\n   * Determines whether the given value is a {@link File} object\n   *\n   * @param {*} value\n   * @returns {boolean}\n   */\n  isFile: function isFile (value) {\n    return value instanceof File;\n  },\n};\n\n/**\n * Creates an instance of JsonSchemaLib\n *\n * @param {Config} [config] - The configuration to use. Can be overridden by {@link JsonSchemaLib#read}\n * @param {object[]} [plugins] - The plugins to use. Additional plugins can be added via {@link JsonSchemaLib#use}\n * @returns {JsonSchemaLib}\n */\nfunction createJsonSchemaLib (config, plugins) {\n  return new JsonSchemaLib(config, plugins);\n}\n",
    "'use strict';\n\nvar isTypedArray = require('../util/isTypedArray');\n\n/**\n * This plugin decodes arrays of bytes (such as TypedArrays or ArrayBuffers) to strings, if possible.\n */\nmodule.exports = {\n  name: 'ArrayDecoderPlugin',\n\n  /**\n   * This plugin has a lower priority than the BufferDecoderPlugin or TextDecoderPlugin, so it will only be used\n   * as a final fallback if neither of the other decoders is able to decode the file's data.\n   */\n  priority: 5,\n\n  /**\n   * Decodes the given file's data, in place.\n   *\n   * @param {File} args.file - The {@link File} to decode.\n   * @param {function} args.next - Calls the next plugin, if the file data cannot be decoded\n   * @returns {string|undefined}\n   */\n  decodeFile: function decodeFile (args) {\n    var file = args.file;\n    var next = args.next;\n\n    if (file.encoding && (isTypedArray(file.data) || Array.isArray(file.data))) {\n      try {\n        // Normalize the data to 2-byte characters\n        var characterArray = new Uint16Array(file.data);\n\n        // Convert the characters to a string\n        var string = String.fromCharCode.apply(null, characterArray);\n\n        // Remove the byte order mark, if any\n        return stripBOM(string);\n      }\n      catch (err) {\n        // Unknown encoding, so just call the next decoder plugin\n        next();\n      }\n    }\n    else {\n      // The file data is not a supported data type, so call the next decoder plugin\n      next();\n    }\n  },\n};\n\n/**\n * Removes the UTF-16 byte order mark, if any, from a string.\n *\n * @param {string} str\n * @returns {string}\n */\nfunction stripBOM (str) {\n  var bom = str.charCodeAt(0);\n\n  // Check for the UTF-16 byte order mark (0xFEFF or 0xFFFE)\n  if (bom === 0xFEFF || bom === 0xFFFE) {\n    return str.slice(1);\n  }\n\n  return str;\n}\n",
    "'use strict';\n\nvar stripHash = require('../util/stripHash');\n\n// Matches any RFC 3986 URL scheme (e.g. \"http://\", \"ftp://\", \"file://\")\nvar protocolPattern = /^[a-z][a-z\\d\\+\\-\\.]*:\\/\\//i;\n\n/**\n * This plugin resolves URLs using the WHATWG URL API, if supported by the current browser.\n * Relative URLs are resolved against the browser's curreng page URL.\n */\nmodule.exports = {\n  name: 'BrowserUrlPlugin',\n\n  /**\n   * This plugin's priority is the same as the NodeUrlPlugin's priority, for consistency between the\n   * Node.js and web browser functionality.\n   */\n  priority: 20,\n\n  /**\n   * Resolves a URL, relative to a base URL.\n   *\n   * @param {?string} args.from\n   * The base URL to resolve against. If unset, then the current page URL is used.\n   *\n   * @param {string} args.to\n   * The URL to resolve. This may be absolute or relative. If relative, then it will be resolved\n   * against {@link args.from}\n   *\n   * @param {function} args.next\n   * Calls the next plugin, if the URL is not an HTTP or HTTPS URL.\n   *\n   * @returns {string|undefined}\n   */\n  resolveURL: function resolveURL (args) {\n    var from = args.from;\n    var to = args.to;\n\n    if (typeof URL === 'function') {\n      // This browser supports the WHATWG URL API\n      return new URL(to, from || location.href).href;\n    }\n    else if (protocolPattern.test(to)) {\n      // It's an absolute URL, so return it as-is\n      return to;\n    }\n    else if (to.substr(0, 2) === '//') {\n      return resolveProtocolRelativeURL(from, to);\n    }\n    else if (to[0] === '/') {\n      return resolveOriginRelativeURL(from, to);\n    }\n    else {\n      return resolvePathRelativeURL(from, to);\n    }\n  },\n};\n\n/**\n * Resolves a protocol-relative URL, such as \"//example.com/directory/file.json\".\n *\n * @param {?string} absolute - The absolute URL to resolve against. Defaults to the current page URL.\n * @param {string} relative - The relative URL to resolve\n * @returns {string}\n */\nfunction resolveProtocolRelativeURL (absolute, relative) {\n  var protocol;\n\n  if (absolute) {\n    // Get the protocol from the absolute URL\n    protocol = protocolPattern.exec(absolute)[0];\n  }\n  else {\n    // Use the current page's protocol\n    protocol = location.protocol;\n  }\n\n  return protocol + relative;\n}\n\n/**\n * Resolves an origin-relative URL, such as \"/file.json\", \"/dir/subdir/file.json\", etc.\n *\n * @param {?string} absolute - The absolute URL to resolve against. Defaults to the current page URL.\n * @param {string} relative - The relative URL to resolve\n * @returns {string}\n */\nfunction resolveOriginRelativeURL (absolute, relative) {\n  var origin;\n\n  if (absolute) {\n    // Get the origin from the absolute URL by joining the first 3 segments (e.g. \"http\", \"\", \"example.com\")\n    origin = absolute.split('/').splice(0, 3).join('/');\n  }\n  else {\n    // Use the current page's origin\n    origin = location.origin || (location.protocol + location.host);\n  }\n\n  return origin + relative;\n}\n\n/**\n * Resolves a path-relative URL, such as \"file.json\", \"../file.json\", \"../dir/subdir/file.json\", etc.\n *\n * @param {?string} absolute - The absolute URL to resolve against. Defaults to the current page URL.\n * @param {string} relative - The relative URL to resolve\n * @returns {string}\n */\nfunction resolvePathRelativeURL (absolute, relative) {\n  // If there's no absolute URL, then use the current page URL (without query or hash)\n  if (!absolute) {\n    absolute = stripHash(stripQuery(location.href));\n  }\n\n  var absoluteSegments = absolute.split('/');\n  var relativeSegments = relative.split('/');\n\n  // The first 3 segments of the absolute URL are the origin (e.g. \"http://www.example.com\")\n  var origin = absoluteSegments.splice(0, 3).join('/');\n\n  // Remove the file name from the absolute URL, so it's just a directory\n  absoluteSegments.pop();\n\n  // Add each segment of the relative URL to the absolute URL, accounting for \".\" and \"..\" segments\n  for (var i = 0; i < relativeSegments.length; i++) {\n    var segment = relativeSegments[i];\n\n    switch (segment) {\n      case '.':\n        break;\n      case '..':\n        absoluteSegments.pop();\n        break;\n      default:\n        absoluteSegments.push(segment);\n    }\n  }\n\n  return origin + '/' + absoluteSegments.join('/');\n}\n\nfunction stripQuery (url) {\n  var queryIndex = url.indexOf('?');\n  if (queryIndex >= 0) {\n    url = url.substr(0, queryIndex);\n  }\n  return url;\n}\n",
    "'use strict';\n\n// Matches \"application/json\", \"text/json\", \"application/hal+json\", etc.\nvar mimeTypePattern = /[/+]json$/;\n\n// Matches any URL that ends with \".json\" (ignoring the query and hash)\nvar extensionPattern = /^[^\\?\\#]+\\.json(\\?.*)?$/;\n\n/**\n * This plugin parses JSON files\n */\nmodule.exports = {\n  name: 'JsonPlugin',\n\n  /**\n   * This plugin has a low priority, to allow for higher-priority third-party parser plugins.\n   *\n   * NOTE: Priorities 0 - 99 are reserved for JsonSchemaLib.\n   *       Third-party plugins should have priorities of 100 or greater.\n   */\n  priority: 20,\n\n  /**\n   * Parses the given file's data, in place.\n   *\n   * @param {File} args.file - The {@link File} to parse.\n   * @param {function} args.next - Calls the next plugin, if the file data cannot be parsed\n   * @returns {*}\n   */\n  parseFile: function parseFile (args) {\n    var file = args.file;\n    var next = args.next;\n\n    if (isJsonFile(file)) {\n      return JSON.parse(file.data);\n    }\n    else {\n      // The file data is not JSON, so call the next parser plugin\n      next();\n    }\n  },\n};\n\n/**\n * Determines whether the file data is JSON\n *\n * @param {File} file\n * @returns {boolean}\n */\nfunction isJsonFile (file) {\n  return file.data &&                             // The file has data\n    (typeof file.data === 'string') &&            // and it's a string\n    (\n      mimeTypePattern.test(file.mimeType) ||      // and it has a JSON MIME type\n      extensionPattern.test(file.url)             // or at least a .json file extension\n    );\n}\n",
    "'use strict';\n\nvar isTypedArray = require('../util/isTypedArray');\n\n// Determine whether the current runtime environment supports the TextDecoder API\nvar textDecoderIsSupported = typeof TextDecoder === 'function';\n\n/**\n * This plugin uses the TextDecoder API to decode arrays of bytes (such as TypedArrays or ArrayBuffers)\n * to strings, if possible.\n */\nmodule.exports = {\n  name: 'TextDecoderPlugin',\n\n  /**\n   * This plugin has a higher priority than the ArrayDecoderPlugin, since the TextDecoder API is the preferred\n   * method for decoding arrays of bytes in browsers that support it.\n   */\n  priority: 10,\n\n  /**\n   * Decodes the given file's data, in place.\n   *\n   * @param {File} args.file - The {@link File} to decode.\n   * @param {function} args.next - Calls the next plugin, if the file data cannot be decoded\n   * @returns {string|undefined}\n   */\n  decodeFile: function decodeFile (args) {\n    var file = args.file;\n    var next = args.next;\n    var decoder;\n\n    if (textDecoderIsSupported && file.encoding && isTypedArray(file.data)) {\n      try {\n        // Attempt to create a TextDecoder for this encoding\n        decoder = new TextDecoder(file.encoding, { ignoreBOM: false, fatal: true });\n      }\n      catch (err) {\n        // Unknown encoding, so just call the next decoder plugin\n        next();\n      }\n\n      // Decode the data\n      return decoder.decode(file.data);\n    }\n    else {\n      // The file data is not a supported data type, so call the next decoder plugin\n      next();\n    }\n  },\n};\n",
    "'use strict';\n\nvar ono = require('ono');\nvar setHttpMetadata = require('../util/setHttpMetadata');\n\n/**\n * This plugin enables downlaoding files via the browser's XMLHttpRequest API.\n */\nmodule.exports = {\n  name: 'XMLHttpRequestPlugin',\n\n  /**\n   * This plugin's priority is the same as the HttpPlugin's priority, for consistency between the\n   * Node.js and web browser functionality.\n   */\n  priority: 5,\n\n  /**\n   * Synchronously downlaods a file.\n   *\n   * @param {File} args.file - The {@link File} to read\n   * @param {function} args.next - Calls the next plugin, if the file is not a local filesystem file\n   */\n  readFileSync: function readFileSync (args) {\n    var file = args.file;\n    var config = args.config;\n    var error, response;\n\n    sendRequest(false, file.url, config, function handleResponse (err, res) {\n      error = err;\n      response = res;\n    });\n\n    if (error) {\n      throw error;\n    }\n    else {\n      setHttpMetadata(file, response);\n      return response.data;\n    }\n  },\n\n  /**\n   * Asynchronously downlaods a file.\n   *\n   * @param {File} args.file - The {@link File} to read\n   * @param {function} args.next - Calls the next plugin, if the file is not a local filesystem file\n   */\n  readFileAsync: function readFileAsync (args) {\n    var file = args.file;\n    var config = args.config;\n    var next = args.next;\n\n    sendRequest(false, file.url, config, function handleResponse (err, res) {\n      if (err) {\n        next(err);\n      }\n      else {\n        setHttpMetadata(file, res);\n        next(null, res.data);\n      }\n    });\n  },\n\n};\n\n/**\n * Sends an HTTP GET request using XMLHttpRequest.\n *\n * @param {boolean} async - Whether to send the request synchronously or asynchronously\n * @param {string} url - The absolute URL to request\n * @param {Config} config - Configuration settings, such as timeout, headers, etc.\n * @param {function} callback - Called with an error or response object\n */\nfunction sendRequest (async, url, config, callback) {\n  var req = new XMLHttpRequest();\n  req.open('GET', url, async);\n\n  req.onerror = handleError;\n  req.ontimeout = handleError;\n  req.onload = handleResponse;\n\n  req.withCredentials = config.http.withCredentials;\n\n  // Timeout can only be set for async requests\n  if (async) {\n    req.timeout = config.http.timeout;\n  }\n\n  // Set request headers\n  Object.keys(config.http.headers).forEach(function (key) {\n    var value = config.http.headers[key];\n    if (value !== undefined) {\n      req.setRequestHeader(key, value);\n    }\n  });\n\n  req.send();\n\n  function handleResponse () {\n    var res = {\n      status: getResponseStatus(req.status, url),\n      headers: parseResponseHeaders(req.getAllResponseHeaders()),\n      data: req.response || req.responseText,\n    };\n\n    if (res.status >= 200 && res.status < 300) {\n      callback(null, res);\n    }\n    else if (res.status < 200 || res.status < 400) {\n      callback(ono('Invalid/unsupported HTTP %d response', res.status));\n    }\n    else {\n      callback(ono('HTTP %d error occurred (%s)', res.status, req.statusText));\n    }\n  }\n\n  function handleError (err) {\n    callback(err);\n  }\n}\n\n/**\n * Returns the HTTP response status, accounting for certain edge cases\n *\n * @param {number} status - The {@link XMLHttpRequest#status} property\n * @param {string} url - The URL that was requested\n * @returns {number}\n */\nfunction getResponseStatus (status, url) {\n  if (status === 1223) {\n    // IE9 returns 1223 instead of 204\n    // https://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n    return 204;\n  }\n  else if (status) {\n    return status;\n  }\n  else if (url.substr(0, 5) === 'file:') {\n    // file:// protocol doesn't use response codes, so emulate a 200 response\n    return 200;\n  }\n  else {\n    // No status. Probably a network error.\n    return 0;\n  }\n}\n\n/**\n * Parses HTTP response headers, and returns them as an object with header names as keys\n * and header values as values.\n *\n * @param {?string} headers - Response headers, separated by CRLF\n * @returns {object}\n */\nfunction parseResponseHeaders (headers) {\n  var parsed = {};\n\n  if (headers) {\n    headers.split('\\n').forEach(function (line) {\n      var separatorIndex = line.indexOf(':');\n      var key = line.substr(0, separatorIndex).trim().toLowerCase();\n      var value = line.substr(separatorIndex + 1).trim().toLowerCase();\n\n      if (key) {\n        parsed[key] = value;\n      }\n    });\n  }\n\n  return parsed;\n}\n",
    "'use strict';\n\nvar ono = require('ono');\n\nif (typeof Promise === 'function') {\n  module.exports = Promise;\n}\nelse {\n  module.exports = function PromiseNotSupported () {\n    throw ono('This browser does not support Promises. Please use a callback instead.');\n  };\n}\n",
    "'use strict';\n\nif (typeof Symbol === 'function') {\n  module.exports = Symbol;\n}\nelse {\n  module.exports = function (name) {\n    return name;\n  };\n}\n",
    "'use strict';\n\nvar typeOf = require('./typeOf');\n\nmodule.exports = deepClone;\nmodule.exports.assign = deepAssign;\n\n/**\n * Deeply assigns the properties of the source object to the target object\n *\n * @param {object} target\n * @param {object} source\n */\nfunction deepAssign (target, source) {\n  var keys = Object.keys(source);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    target[key] = deepClone(source[key]);\n  }\n\n  return target;\n}\n\n/**\n * Returns a deep clone of the given value\n *\n * @param {*} value\n * @returns {*}\n */\nfunction deepClone (value) {\n  var type = typeOf(value);\n\n  if (type.isPOJO) {\n    return deepAssign({}, value);\n  }\n  else if (type.isArray) {\n    var clone = [];\n    for (var i = 0; i < value.length; i++) {\n      clone.push(deepClone(value[i]));\n    }\n  }\n  else if (type.hasValue) {\n    // string, boolean, number, function, Date, RegExp, etc.\n    // Just return it as-is\n    return value;\n  }\n}\n",
    "'use strict';\n\nvar Symbol = require('./Symbol');\n\n/**\n * This Symbol is used for internal state that should not be accessesed outside of this library.\n *\n * @type {Symbol}\n */\nmodule.exports = Symbol('__internal');\n",
    "'use strict';\n\nvar supportedDataTypes = getSupportedDataTypes();\n\nmodule.exports = isTypedArray;\n\n/**\n * Determines whether the given object is any of the TypedArray types.\n *\n * @param {*} obj\n * @returns {boolean}\n */\nfunction isTypedArray (obj) {\n  if (typeof obj === 'object') {\n    for (var i = 0; i < supportedDataTypes.length; i++) {\n      if (obj instanceof supportedDataTypes[i]) {\n        return true;\n      }\n    }\n  }\n}\n\n/**\n * Returns the TypedArray data types that are supported by the current runtime environment.\n *\n * @returns {function[]}\n */\nfunction getSupportedDataTypes () {\n  var types = [];\n\n  // NOTE: More frequently-used types come first, to improve lookup speed\n  if (typeof Uint8Array === 'function') {\n    types.push(Uint8Array);\n  }\n  if (typeof Uint16Array === 'function') {\n    types.push(Uint16Array);\n  }\n  if (typeof ArrayBuffer === 'function') {\n    types.push(ArrayBuffer);\n  }\n  if (typeof Uint32Array === 'function') {\n    types.push(Uint32Array);\n  }\n  if (typeof Int8Array === 'function') {\n    types.push(Int8Array);\n  }\n  if (typeof Int16Array === 'function') {\n    types.push(Int16Array);\n  }\n  if (typeof Int32Array === 'function') {\n    types.push(Int32Array);\n  }\n  if (typeof Uint8ClampedArray === 'function') {\n    types.push(Uint8ClampedArray);\n  }\n  if (typeof Float32Array === 'function') {\n    types.push(Float32Array);\n  }\n  if (typeof Float64Array === 'function') {\n    types.push(Float64Array);\n  }\n  if (typeof DataView === 'function') {\n    types.push(DataView);\n  }\n\n  return types;\n}\n",
    "'use strict';\n\nmodule.exports = lowercase;\n\n/**\n * Returns the given string in lowercase, or null if the value is not a string.\n *\n * @param {*} str\n * @returns {string|null}\n */\nfunction lowercase (str) {\n  if (str && typeof str === 'string') {\n    return str.toLowerCase();\n  }\n  else {\n    return null;\n  }\n}\n",
    "'use strict';\n\nmodule.exports = omit;\n\n/**\n * Returns an object containing all properties of the given object,\n * except for the specified properties to be omitted.\n *\n * @param {object} obj\n * @param {...string} props\n * @returns {object}\n */\nfunction omit (obj, props) {\n  props = Array.prototype.slice.call(arguments, 1);\n  var keys = Object.keys(obj);\n  var newObj = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = Object.keys[i];\n\n    if (props.indexOf(key) === -1) {\n      newObj[key] = obj[key];\n    }\n  }\n\n  return newObj;\n}\n",
    "'use strict';\n\nmodule.exports = safeCall;\n\nvar ono = require('ono');\n\n/**\n * Calls the specified function with the given arguments, ensuring that the callback\n * is only called once, and that it's called even if an unhandled error occurs.\n *\n * @param {function} fn - The function to call\n * @param {...*} [args] - The arguments to pass to the function\n * @param {function} callback - The callback function\n */\nfunction safeCall (fn, args, callback) {\n  args = Array.prototype.slice.call(arguments, 1);\n  callback = args.pop();\n  var callbackCalled;\n\n  try {\n    args.push(safeCallback);\n    fn.apply(null, args);\n  }\n  catch (err) {\n    if (callbackCalled) {\n      throw err;\n    }\n    else {\n      safeCallback(err);\n    }\n  }\n\n  function safeCallback (err, result) {\n    if (callbackCalled) {\n      err = ono('Error in %s: callback was called multiple times', fn.name);\n    }\n\n    callbackCalled = true;\n    callback(err, result);\n  }\n}\n",
    "'use strict';\n\nvar contentType = require('content-type');\nvar lowercase = require('../util/lowercase');\n\nmodule.exports = setHttpMetadata;\n\n/**\n * Sets {@link File} properties, such as {@link File#mimeType} and {@link File#encoding},\n * based on the given HTTP response\n *\n * @param {File} file - The File object whose properties are set\n * @param {IncomingMessage} res - The HTTP response\n */\nfunction setHttpMetadata (file, res) {\n  var header = res.headers['content-type'];\n\n  if (header && typeof header === 'string') {\n    var parsed = contentType.parse(header);\n\n    file.mimeType = lowercase(parsed.type);\n    file.encoding = lowercase(parsed.parameters.charset || null);\n  }\n}\n",
    "'use strict';\n\nmodule.exports = stripHash;\n\n/**\n * Returns the hash of the given url\n * (e.g. http://example.com/path#hash => http://example.com/path)\n *\n * NOTE: It is the user's responsibility to URL-encode any hash characters in the URL's path.\n * For example, if the user passes-in the following URL:\n *\n *    https://httpbin.org/anything/foo#bar/baz?query=value#hash\n *\n * The returned URL will be \"https://httpbin.org/anything/foo\".  If the user wants \"foo#bar\" to\n * simply be treated as a path segment, then they need to escape it first, like this:\n *\n *    https://httpbin.org/anything/foo%23bar/baz?query=value#hash\n *\n * @param {string} url\n * @returns {string}\n */\nfunction stripHash (url) {\n  var hashIndex = url.indexOf('#');\n  if (hashIndex >= 0) {\n    url = url.substr(0, hashIndex);\n  }\n  return url;\n}\n",
    "'use strict';\n\nmodule.exports = typeOf;\n\n/**\n * Returns information about the type of the given value\n *\n * @param {*} value\n * @returns {{ hasValue: boolean, isArray: boolean, isPOJO: boolean, isNumber: boolean }}\n */\nfunction typeOf (value) {\n  var type = {\n    hasValue: false,\n    isArray: false,\n    isPOJO: false,\n    isNumber: false,\n  };\n\n  if (value !== undefined && value !== null) {\n    type.hasValue = true;\n    var typeName = typeof value;\n\n    if (typeName === 'number') {\n      type.isNumber = !isNaN(value);\n    }\n    else if (Array.isArray(value)) {\n      type.isArray = true;\n    }\n    else {\n      type.isPOJO =\n        (typeName === 'object') &&\n        !(value instanceof RegExp) &&\n        !(value instanceof Date);\n    }\n  }\n\n  return type;\n}\n",
    "/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar paramRegExp = /; *([!#$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+) */g\nvar textRegExp = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar tokenRegExp = /^[!#$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar qescRegExp = /\\\\([\\u000b\\u0020-\\u00ff])/g\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar quoteRegExp = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 6838\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar typeRegExp = /^[!#$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+\\/[!#$%&'\\*\\+\\-\\.\\^_`\\|~0-9A-Za-z]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format(obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !typeRegExp.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!tokenRegExp.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse(string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  if (typeof string === 'object') {\n    // support req/res-like objects as argument\n    string = getcontenttype(string)\n\n    if (typeof string !== 'string') {\n      throw new TypeError('content-type header is missing from object');\n    }\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = string.indexOf(';')\n  var type = index !== -1\n    ? string.substr(0, index).trim()\n    : string.trim()\n\n  if (!typeRegExp.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var key\n  var match\n  var obj = new ContentType(type.toLowerCase())\n  var value\n\n  paramRegExp.lastIndex = index\n\n  while (match = paramRegExp.exec(string)) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(qescRegExp, '$1')\n    }\n\n    obj.parameters[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype(obj) {\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    return obj.getHeader('content-type')\n  }\n\n  if (typeof obj.headers === 'object') {\n    // req-like\n    return obj.headers && obj.headers['content-type']\n  }\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring(val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (tokenRegExp.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !textRegExp.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(quoteRegExp, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType(type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n",
    "function format(fmt) {\n  var re = /(%?)(%([jds]))/g\n    , args = Array.prototype.slice.call(arguments, 1);\n  if(args.length) {\n    fmt = fmt.replace(re, function(match, escaped, ptn, flag) {\n      var arg = args.shift();\n      switch(flag) {\n        case 's':\n          arg = '' + arg;\n          break;\n        case 'd':\n          arg = Number(arg);\n          break;\n        case 'j':\n          arg = JSON.stringify(arg);\n          break;\n      }\n      if(!escaped) {\n        return arg; \n      }\n      args.unshift(arg);\n      return match;\n    })\n  }\n\n  // arguments remain after formatting\n  if(args.length) {\n    fmt += ' ' + args.join(' ');\n  }\n\n  // update escaped %% values\n  fmt = fmt.replace(/%{2,2}/g, '%');\n\n  return '' + fmt;\n}\n\nmodule.exports = format;\n",
    "'use strict';\n\nvar format = require('format-util');\nvar slice = Array.prototype.slice;\nvar vendorSpecificErrorProperties = [\n  'name', 'message', 'description', 'number', 'fileName', 'lineNumber', 'columnNumber',\n  'sourceURL', 'line', 'column', 'stack'\n];\n\nmodule.exports = create(Error);\nmodule.exports.error = create(Error);\nmodule.exports.eval = create(EvalError);\nmodule.exports.range = create(RangeError);\nmodule.exports.reference = create(ReferenceError);\nmodule.exports.syntax = create(SyntaxError);\nmodule.exports.type = create(TypeError);\nmodule.exports.uri = create(URIError);\nmodule.exports.formatter = format;\n\n/**\n * Creates a new {@link ono} function that creates the given Error class.\n *\n * @param {Class} Klass - The Error subclass to create\n * @returns {ono}\n */\nfunction create (Klass) {\n  /**\n   * @param {Error}   [err]     - The original error, if any\n   * @param {object}  [props]   - An object whose properties will be added to the error object\n   * @param {string}  [message] - The error message. May contain {@link util#format} placeholders\n   * @param {...*}    [params]  - Parameters that map to the `message` placeholders\n   * @returns {Error}\n   */\n  return function onoFactory (err, props, message, params) {   // eslint-disable-line no-unused-vars\n    var formattedMessage;\n\n    if (typeof err === 'string') {\n      formattedMessage = module.exports.formatter.apply(null, arguments);\n      err = props = undefined;\n    }\n    else if (typeof props === 'string') {\n      formattedMessage = module.exports.formatter.apply(null, slice.call(arguments, 1));\n    }\n    else if (typeof message === 'string') {\n      formattedMessage = module.exports.formatter.apply(null, slice.call(arguments, 2));\n    }\n    else {\n      formattedMessage = '';\n    }\n\n    if (!(err instanceof Error)) {\n      props = err;\n      err = undefined;\n    }\n\n    if (err) {\n      // The inner-error's message will be added to the new message\n      formattedMessage += (formattedMessage ? ' \\n' : '') + err.message;\n    }\n\n    // Create the new error\n    // NOTE: DON'T move this to a separate function! We don't want to pollute the stack trace\n    var newError = new Klass(formattedMessage);\n\n    // Extend the new error with the additional properties\n    extendError(newError, err);   // Copy properties of the original error\n    extendToJSON(newError);       // Replace the original toJSON method\n    extend(newError, props);      // Copy custom properties, possibly including a custom toJSON method\n\n    return newError;\n  };\n}\n\n/**\n * Extends the targetError with the properties of the source error.\n *\n * @param {Error}   targetError - The error object to extend\n * @param {?Error}  sourceError - The source error object, if any\n */\nfunction extendError (targetError, sourceError) {\n  extendStack(targetError, sourceError);\n  extend(targetError, sourceError, true);\n}\n\n/**\n * JavaScript engines differ in how errors are serialized to JSON - especially when it comes\n * to custom error properties and stack traces.  So we add our own toJSON method that ALWAYS\n * outputs every property of the error.\n */\nfunction extendToJSON (error) {\n  error.toJSON = errorToJSON;\n\n  // Also add an inspect() method, for compatibility with Node.js' `util.inspect()` method\n  error.inspect = errorToString;\n}\n\n/**\n * Extends the target object with the properties of the source object.\n *\n * @param {object}  target - The object to extend\n * @param {?source} source - The object whose properties are copied\n * @param {boolean} omitVendorSpecificProperties - Skip vendor-specific Error properties\n */\nfunction extend (target, source, omitVendorSpecificProperties) {\n  if (source && typeof source === 'object') {\n    var keys = Object.keys(source);\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      // Don't bother trying to copy read-only vendor-specific Error properties\n      if (omitVendorSpecificProperties && vendorSpecificErrorProperties.indexOf(key) >= 0) {\n        continue;\n      }\n\n      try {\n        target[key] = source[key];\n      }\n      catch (e) {\n        // This property is read-only, so it can't be copied\n      }\n    }\n  }\n}\n\n/**\n * Custom JSON serializer for Error objects.\n * Returns all built-in error properties, as well as extended properties.\n *\n * @returns {object}\n */\nfunction errorToJSON () {\n  var json = {};\n\n  // Get all the properties of this error\n  var keys = Object.keys(this);\n\n  // Also include vendor-specific properties from the prototype\n  keys = keys.concat(vendorSpecificErrorProperties);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = this[key];\n    var type = typeof value;\n    if (type !== 'undefined' && type !== 'function') {\n      json[key] = value;\n    }\n  }\n\n  return json;\n}\n\n/**\n * Serializes Error objects as human-readable JSON strings for debugging/logging purposes.\n *\n * @returns {string}\n */\nfunction errorToString () {\n  return JSON.stringify(this, null, 2).replace(/\\\\n/g, '\\n');\n}\n\n/**\n * Extend the error stack to include its cause\n *\n * @param {Error} targetError\n * @param {Error} sourceError\n */\nfunction extendStack (targetError, sourceError) {\n  if (hasLazyStack(targetError)) {\n    if (sourceError) {\n      lazyJoinStacks(targetError, sourceError);\n    }\n    else {\n      lazyPopStack(targetError);\n    }\n  }\n  else {\n    if (sourceError) {\n      targetError.stack = joinStacks(targetError.stack, sourceError.stack);\n    }\n    else {\n      targetError.stack = popStack(targetError.stack);\n    }\n  }\n}\n\n/**\n * Appends the original {@link Error#stack} property to the new Error's stack.\n *\n * @param {string} newStack\n * @param {string} originalStack\n * @returns {string}\n */\nfunction joinStacks (newStack, originalStack) {\n  newStack = popStack(newStack);\n\n  if (newStack && originalStack) {\n    return newStack + '\\n\\n' + originalStack;\n  }\n  else {\n    return newStack || originalStack;\n  }\n}\n\n/**\n * Removes Ono from the stack, so that the stack starts at the original error location\n *\n * @param {string} stack\n * @returns {string}\n */\nfunction popStack (stack) {\n  if (stack) {\n    var lines = stack.split('\\n');\n\n    if (lines.length < 2) {\n      // The stack only has one line, so there's nothing we can remove\n      return stack;\n    }\n\n    // Find the `onoFactory` call in the stack, and remove it\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i];\n      if (line.indexOf('onoFactory') >= 0) {\n        lines.splice(i, 1);\n        return lines.join('\\n');\n      }\n    }\n\n    // If we get here, then the stack doesn't contain a call to `onoFactory`.\n    // This may be due to minification or some optimization of the JS engine.\n    // So just return the stack as-is.\n    return stack;\n  }\n}\n\n/**\n * Does a one-time determination of whether this JavaScript engine\n * supports lazy `Error.stack` properties.\n */\nvar supportsLazyStack = (function () {\n  return !!(\n    // ES5 property descriptors must be supported\n    Object.getOwnPropertyDescriptor && Object.defineProperty &&\n\n    // Chrome on Android doesn't support lazy stacks :(\n    (typeof navigator === 'undefined' || !/Android/.test(navigator.userAgent))\n  );\n}());\n\n/**\n * Does this error have a lazy stack property?\n *\n * @param {Error} err\n * @returns {boolean}\n */\nfunction hasLazyStack (err) {\n  if (!supportsLazyStack) {\n    return false;\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(err, 'stack');\n  if (!descriptor) {\n    return false;\n  }\n  return typeof descriptor.get === 'function';\n}\n\n/**\n * Calls {@link joinStacks} lazily, when the {@link Error#stack} property is accessed.\n *\n * @param {Error} targetError\n * @param {Error} sourceError\n */\nfunction lazyJoinStacks (targetError, sourceError) {\n  var targetStack = Object.getOwnPropertyDescriptor(targetError, 'stack');\n\n  Object.defineProperty(targetError, 'stack', {\n    get: function () {\n      return joinStacks(targetStack.get.apply(targetError), sourceError.stack);\n    },\n    enumerable: false,\n    configurable: true\n  });\n}\n\n/**\n * Calls {@link popStack} lazily, when the {@link Error#stack} property is accessed.\n *\n * @param {Error} error\n */\nfunction lazyPopStack (error) {\n  var targetStack = Object.getOwnPropertyDescriptor(error, 'stack');\n\n  Object.defineProperty(error, 'stack', {\n    get: function () {\n      return popStack(targetStack.get.apply(error));\n    },\n    enumerable: false,\n    configurable: true\n  });\n}\n"
  ]
}